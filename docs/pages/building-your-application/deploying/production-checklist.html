<!doctype html>
<html lang="ko" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-pages/building-your-application/deploying/production-checklist" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Going to Production | EXP 스터디</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://exp.nano.seoul.kr/img/exp_logo.png"><meta data-rh="true" name="twitter:image" content="https://exp.nano.seoul.kr/img/exp_logo.png"><meta data-rh="true" property="og:url" content="https://exp.nano.seoul.kr/docs/pages/building-your-application/deploying/production-checklist"><meta data-rh="true" name="docusaurus_locale" content="ko"><meta data-rh="true" name="docsearch:language" content="ko"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Going to Production | EXP 스터디"><meta data-rh="true" name="description" content="Before taking your Next.js application to production, here are some recommendations to ensure the best user experience."><meta data-rh="true" property="og:description" content="Before taking your Next.js application to production, here are some recommendations to ensure the best user experience."><link data-rh="true" rel="icon" href="/img/exp_logo.png"><link data-rh="true" rel="canonical" href="https://exp.nano.seoul.kr/docs/pages/building-your-application/deploying/production-checklist"><link data-rh="true" rel="alternate" href="https://exp.nano.seoul.kr/docs/pages/building-your-application/deploying/production-checklist" hreflang="ko"><link data-rh="true" rel="alternate" href="https://exp.nano.seoul.kr/docs/pages/building-your-application/deploying/production-checklist" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.d64875b8.css">
<link rel="preload" href="/assets/js/runtime~main.359eed01.js" as="script">
<link rel="preload" href="/assets/js/main.8df28289.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="본문으로 건너뛰기"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">본문으로 건너뛰기</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/exp_logo.png" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/exp_logo.png" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">EXP 스터디</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Next.js</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/nano-lee/exp-nextjs-study" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)" aria-label="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="맨 위로 스크롤하기" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/getting-started">Getting Started</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Getting Started&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/app">App Router</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;App Router&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/pages">Pages Router</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Pages Router&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/pages/building-your-application">Building Your Application</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Building Your Application&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/pages/building-your-application/routing">Routing</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Routing&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/pages/building-your-application/rendering">Rendering</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Rendering&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/pages/building-your-application/data-fetching">Data Fetching</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Data Fetching&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/pages/building-your-application/styling">Styling</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Styling&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/pages/building-your-application/optimizing">Optimizing</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Optimizing&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/pages/building-your-application/configuring">Configuring</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Configuring&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/pages/building-your-application/deploying">Deploying</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Deploying&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/pages/building-your-application/deploying/production-checklist">Going to Production</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pages/building-your-application/deploying/static-exports">Static Exports</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pages/building-your-application/deploying/multi-zones">Multi Zones</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pages/building-your-application/deploying/ci-build-caching">Continuous Integration (CI) Build Caching</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/pages/building-your-application/upgrading">Upgrading</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Upgrading&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/pages/api-reference">API Reference</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;API Reference&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/architecture">Architecture</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Architecture&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/community">Next.js Community</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Next.js Community&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="홈" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/pages"><span itemprop="name">Pages Router</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/pages/building-your-application"><span itemprop="name">Building Your Application</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/pages/building-your-application/deploying"><span itemprop="name">Deploying</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Going to Production</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">이 페이지에서</button></div><div class="theme-doc-markdown markdown"><header><h1>Going to Production</h1></header><p>Before taking your Next.js application to production, here are some recommendations to ensure the best user experience.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="in-general">In General<a href="#in-general" class="hash-link" aria-label="In General에 대한 직접 링크" title="In General에 대한 직접 링크">​</a></h2><ul><li>Use <a href="#caching">caching</a> wherever possible.</li><li>Ensure your database and backend are deployed in the same region.</li><li>Aim to ship the least amount of JavaScript possible.</li><li>Defer loading heavy JavaScript bundles until needed.</li><li>Ensure <a href="#logging">logging</a> is set up.</li><li>Ensure <a href="#error-handling">error handling</a> is set up.</li><li>Configure the <a href="/docs/pages/building-your-application/routing/custom-error#404-page">404</a> (Not Found) and <a href="/docs/pages/building-your-application/routing/custom-error#500-page">500</a> (Error) pages.</li><li>Ensure you are <a href="/docs/pages/building-your-application/optimizing/analytics">measuring performance</a>.</li><li>Run <a href="https://developers.google.com/web/tools/lighthouse" target="_blank" rel="noopener noreferrer">Lighthouse</a> to check for performance, best practices, accessibility, and SEO. For best results, use a production build of Next.js and use incognito in your browser so results aren&#x27;t affected by extensions.</li><li>Review <a href="/docs/architecture/supported-browsers">Supported Browsers and Features</a>.</li><li>Improve performance using:<ul><li><a href="/docs/pages/building-your-application/optimizing/images"><code>next/image</code> and Automatic Image Optimization</a></li><li><a href="/docs/pages/building-your-application/optimizing/fonts">Automatic Font Optimization</a></li><li><a href="/docs/pages/building-your-application/optimizing/scripts">Script Optimization</a></li></ul></li><li>Improve <a href="#loading-performance">loading performance</a></li><li>Consider adding a <a href="/docs/pages/building-your-application/configuring/content-security-policy">Content Security Policy</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="caching">Caching<a href="#caching" class="hash-link" aria-label="Caching에 대한 직접 링크" title="Caching에 대한 직접 링크">​</a></h2><details open="" class="details_lb9f alert alert--info details_b_Ee" data-collapsed="false"><summary>Examples</summary><div><div class="collapsibleContent_i85q"><ul><li><a href="https://github.com/vercel/next.js/tree/canary/examples/ssr-caching" target="_blank" rel="noopener noreferrer">ssr-caching</a></li></ul></div></div></details><p>Caching improves response times and reduces the number of requests to external services. Next.js automatically adds caching headers to immutable assets served from <code>/_next/static</code> including JavaScript, CSS, static images, and other media.</p><div class="language-terminal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-terminal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Cache-Control: public, max-age=31536000, immutable</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>Cache-Control</code> headers set in <code>next.config.js</code> will be overwritten in production to ensure that static assets can be cached effectively. If you need to revalidate the cache of a page that has been <a href="/docs/pages/building-your-application/rendering/static-site-generation">statically generated</a>, you can do so by setting <code>revalidate</code> in the page&#x27;s <a href="/docs/pages/building-your-application/data-fetching/get-static-props"><code>getStaticProps</code></a> function. If you&#x27;re using <code>next/image</code>, you can configure the <a href="/docs/pages/api-reference/components/image#minimumcachettl"><code>minimumCacheTTL</code></a> for the default Image Optimization loader.</p><blockquote><p><strong>Good to know</strong>: When running your application locally with <code>next dev</code>, your headers are overwritten to prevent caching locally.</p></blockquote><div class="language-terminal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-terminal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Cache-Control: no-cache, no-store, max-age=0, must-revalidate</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can also use caching headers inside <code>getServerSideProps</code> and API Routes for dynamic responses. For example, using <a href="https://web.dev/stale-while-revalidate/" target="_blank" rel="noopener noreferrer"><code>stale-while-revalidate</code></a>.</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// This value is considered fresh for ten seconds (s-maxage=10).</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// If a request is repeated within the next 10 seconds, the previously</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// cached value will still be fresh. If the request is repeated before 59 seconds,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// the cached value will be stale but still render (stale-while-revalidate=59).</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// In the background, a revalidation request will be made to populate the cache</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// with a fresh value. If you refresh the page, you will see the new value.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getServerSideProps</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"> req</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> res </span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setHeader</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;Cache-Control&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;public, s-maxage=10, stale-while-revalidate=59&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">props</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>By default, <code>Cache-Control</code> headers will be set differently depending on how your page fetches data.</p><ul><li>If the page uses <code>getServerSideProps</code> or <code>getInitialProps</code>, it will use the default <code>Cache-Control</code> header set by <code>next start</code> in order to prevent accidental caching of responses that cannot be cached. If you want a different cache behavior while using <code>getServerSideProps</code>, use <code>res.setHeader(&#x27;Cache-Control&#x27;, &#x27;value_you_prefer&#x27;)</code> inside of the function as shown above.</li><li>If the page is using <code>getStaticProps</code>, it will have a <code>Cache-Control</code> header of <code>s-maxage=REVALIDATE_SECONDS, stale-while-revalidate</code>, or if <code>revalidate</code> is <em>not</em> used, <code>s-maxage=31536000, stale-while-revalidate</code> to cache for the maximum age possible.</li></ul><blockquote><p><strong>Good to know</strong>: Your deployment provider must support caching for dynamic responses. If you are self-hosting, you will need to add this logic yourself using a key/value store like Redis. If you are using Vercel, <a href="https://vercel.com/docs/edge-network/caching?utm_source=next-site&amp;utm_medium=docs&amp;utm_campaign=next-website" target="_blank" rel="noopener noreferrer">Edge Caching works without configuration</a>.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="reducing-javascript-size">Reducing JavaScript Size<a href="#reducing-javascript-size" class="hash-link" aria-label="Reducing JavaScript Size에 대한 직접 링크" title="Reducing JavaScript Size에 대한 직접 링크">​</a></h2><details open="" class="details_lb9f alert alert--info details_b_Ee" data-collapsed="false"><summary>Examples</summary><div><div class="collapsibleContent_i85q"><ul><li><a href="https://github.com/vercel/next.js/tree/canary/examples/with-dynamic-import" target="_blank" rel="noopener noreferrer">with-dynamic-import</a></li></ul></div></div></details><p>To reduce the amount of JavaScript sent to the browser, you can use the following tools to understand what is included inside each JavaScript bundle:</p><ul><li><a href="https://marketplace.visualstudio.com/items?itemName=wix.vscode-import-cost" target="_blank" rel="noopener noreferrer">Import Cost</a> – Display the size of the imported package inside VSCode.</li><li><a href="https://packagephobia.com/" target="_blank" rel="noopener noreferrer">Package Phobia</a> – Find the cost of adding a new dev dependency to your project.</li><li><a href="https://bundlephobia.com/" target="_blank" rel="noopener noreferrer">Bundle Phobia</a> - Analyze how much a dependency can increase bundle sizes.</li><li><a href="https://github.com/vercel/next.js/tree/canary/packages/next-bundle-analyzer" target="_blank" rel="noopener noreferrer">Webpack Bundle Analyzer</a> – Visualize the size of webpack output files with an interactive, zoomable treemap.</li><li><a href="https://bundlejs.com/" target="_blank" rel="noopener noreferrer">bundlejs</a> - An online tool to quickly bundle &amp; minify your projects, while viewing the compressed gzip/brotli bundle size, all running locally on your browser.</li></ul><p>Each file inside your <code>pages/</code> directory will automatically be code split into its own JavaScript bundle during <code>next build</code>. You can also use <a href="/docs/pages/building-your-application/optimizing/lazy-loading">Dynamic Imports</a> to lazy-load components and libraries. For example, you might want to defer loading your modal code until a user clicks the open button.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="logging">Logging<a href="#logging" class="hash-link" aria-label="Logging에 대한 직접 링크" title="Logging에 대한 직접 링크">​</a></h2><details open="" class="details_lb9f alert alert--info details_b_Ee" data-collapsed="false"><summary>Examples</summary><div><div class="collapsibleContent_i85q"><ul><li><a href="https://github.com/Logflare/next-pino-logflare-logging-example" target="_blank" rel="noopener noreferrer">Pino and Logflare Example</a></li></ul></div></div></details><p>Since Next.js runs on both the client and server, there are multiple forms of logging supported:</p><ul><li><code>console.log</code> in the browser</li><li><code>stdout</code> on the server</li></ul><p>If you want a structured logging package, we recommend <a href="https://www.npmjs.com/package/pino" target="_blank" rel="noopener noreferrer">Pino</a>. If you&#x27;re using Vercel, there are <a href="https://vercel.com/integrations?utm_source=next-site&amp;utm_medium=docs&amp;utm_campaign=next-website#logging" target="_blank" rel="noopener noreferrer">pre-built logging integrations</a> compatible with Next.js.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="error-handling">Error Handling<a href="#error-handling" class="hash-link" aria-label="Error Handling에 대한 직접 링크" title="Error Handling에 대한 직접 링크">​</a></h2><details open="" class="details_lb9f alert alert--info details_b_Ee" data-collapsed="false"><summary>Examples</summary><div><div class="collapsibleContent_i85q"><ul><li><a href="https://github.com/vercel/next.js/tree/canary/examples/with-sentry" target="_blank" rel="noopener noreferrer">with-sentry</a></li></ul></div></div></details><p>When an unhandled exception occurs, you can control the experience for your users with the <a href="/docs/pages/building-your-application/routing/custom-error#500-page">500 page</a>. We recommend customizing this to your brand instead of the default Next.js theme.</p><p>You can also log and track exceptions with a tool like Sentry. <a href="https://github.com/vercel/next.js/tree/canary/examples/with-sentry" target="_blank" rel="noopener noreferrer">This example</a> shows how to catch &amp; report errors on both the client and server-side, using the Sentry SDK for Next.js. There&#x27;s also a <a href="https://vercel.com/integrations/sentry?utm_source=next-site&amp;utm_medium=docs&amp;utm_campaign=next-website" target="_blank" rel="noopener noreferrer">Sentry integration for Vercel</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="loading-performance">Loading Performance<a href="#loading-performance" class="hash-link" aria-label="Loading Performance에 대한 직접 링크" title="Loading Performance에 대한 직접 링크">​</a></h2><p>To improve loading performance, you first need to determine what to measure and how to measure it. <a href="https://vercel.com/blog/core-web-vitals?utm_source=next-site&amp;utm_medium=docs&amp;utm_campaign=next-website" target="_blank" rel="noopener noreferrer">Core Web Vitals</a> is a good industry standard that is measured using your own web browser. If you are not familiar with the metrics of Core Web Vitals, review this <a href="https://vercel.com/blog/core-web-vitals?utm_source=next-site&amp;utm_medium=docs&amp;utm_campaign=next-website" target="_blank" rel="noopener noreferrer">blog post</a> and determine which specific metric/s will be your drivers for loading performance. Ideally, you would want to measure the loading performance in the following environments:</p><ul><li>In the lab, using your own computer or a simulator.</li><li>In the field, using real-world data from actual visitors.</li><li>Local, using a test that runs on your device.</li><li>Remote, using a test that runs in the cloud.</li></ul><p>Once you are able to measure the loading performance, use the following strategies to improve it iteratively so that you apply one strategy, measure the new performance and continue tweaking until you do not see much improvement. Then, you can move on to the next strategy.</p><ul><li>Use caching regions that are close to the regions where your database or API is deployed.</li><li>As described in the <a href="#caching">caching</a> section, use a <code>stale-while-revalidate</code> value that will not overload your backend.</li><li>Use <a href="/docs/pages/building-your-application/data-fetching/incremental-static-regeneration">Incremental Static Regeneration</a> to reduce the number of requests to your backend.</li><li>Remove unused JavaScript. Review this <a href="https://calibreapp.com/blog/bundle-size-optimization" target="_blank" rel="noopener noreferrer">blog post</a> to understand what Core Web Vitals metrics bundle size affects and what strategies you can use to reduce it, such as:<ul><li>Setting up your Code Editor to view import costs and sizes</li><li>Finding alternative smaller packages</li><li>Dynamically loading components and dependencies</li></ul></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/03-pages/01-building-your-application/07-deploying/01-production-checklist.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>페이지 편집</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="문서 페이지"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/pages/building-your-application/deploying"><div class="pagination-nav__sublabel">이전</div><div class="pagination-nav__label">Deploying</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/pages/building-your-application/deploying/static-exports"><div class="pagination-nav__sublabel">다음</div><div class="pagination-nav__label">Static Exports</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#in-general" class="table-of-contents__link toc-highlight">In General</a></li><li><a href="#caching" class="table-of-contents__link toc-highlight">Caching</a></li><li><a href="#reducing-javascript-size" class="table-of-contents__link toc-highlight">Reducing JavaScript Size</a></li><li><a href="#logging" class="table-of-contents__link toc-highlight">Logging</a></li><li><a href="#error-handling" class="table-of-contents__link toc-highlight">Error Handling</a></li><li><a href="#loading-performance" class="table-of-contents__link toc-highlight">Loading Performance</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.359eed01.js"></script>
<script src="/assets/js/main.8df28289.js"></script>
</body>
</html>