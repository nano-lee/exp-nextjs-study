<!doctype html>
<html lang="ko" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-app/building-your-application/caching/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Caching in Next.js | EXP 스터디</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://exp.nano.seoul.kr/img/exp_logo.png"><meta data-rh="true" name="twitter:image" content="https://exp.nano.seoul.kr/img/exp_logo.png"><meta data-rh="true" property="og:url" content="https://exp.nano.seoul.kr/docs/app/building-your-application/caching"><meta data-rh="true" name="docusaurus_locale" content="ko"><meta data-rh="true" name="docsearch:language" content="ko"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Caching in Next.js | EXP 스터디"><meta data-rh="true" name="description" content="An overview of caching mechanisms in Next.js."><meta data-rh="true" property="og:description" content="An overview of caching mechanisms in Next.js."><link data-rh="true" rel="icon" href="/img/exp_logo.png"><link data-rh="true" rel="canonical" href="https://exp.nano.seoul.kr/docs/app/building-your-application/caching"><link data-rh="true" rel="alternate" href="https://exp.nano.seoul.kr/docs/app/building-your-application/caching" hreflang="ko"><link data-rh="true" rel="alternate" href="https://exp.nano.seoul.kr/docs/app/building-your-application/caching" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.d64875b8.css">
<link rel="preload" href="/assets/js/runtime~main.078f9fe6.js" as="script">
<link rel="preload" href="/assets/js/main.29f9d694.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="본문으로 건너뛰기"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">본문으로 건너뛰기</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/exp_logo.png" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/exp_logo.png" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">EXP 스터디</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Next.js</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/nano-lee/exp-nextjs-study" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)" aria-label="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="맨 위로 스크롤하기" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/getting-started">Getting Started</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Getting Started&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/app">App Router</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;App Router&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/app/building-your-application">Building Your Application</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Building Your Application&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/app/building-your-application/routing">Routing</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Routing&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/app/building-your-application/data-fetching">Data Fetching</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Data Fetching&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/app/building-your-application/rendering">Rendering</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Rendering&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/app/building-your-application/caching">Caching</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/app/building-your-application/styling">Styling</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Styling&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/app/building-your-application/optimizing">Optimizing</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Optimizing&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/app/building-your-application/configuring">Configuring</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Configuring&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/app/building-your-application/deploying">Deploying</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Deploying&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/app/building-your-application/upgrading">Upgrading</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Upgrading&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/app/api-reference">API Reference</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;API Reference&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/pages">Pages Router</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Pages Router&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/architecture">Architecture</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Architecture&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/community">Next.js Community</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;Next.js Community&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="홈" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/app"><span itemprop="name">App Router</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/app/building-your-application"><span itemprop="name">Building Your Application</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Caching</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">이 페이지에서</button></div><div class="theme-doc-markdown markdown"><header><h1>Caching in Next.js</h1></header><p>Next.js improves your application&#x27;s performance and reduces costs by caching rendering work and data requests. This page provides an in-depth look at Next.js caching mechanisms, the APIs you can use to configure them, and how they interact with each other.</p><blockquote><p><strong>Good to know</strong>: This page helps you understand how Next.js works under the hood but is <strong>not</strong> essential knowledge to be productive with Next.js. Most of Next.js&#x27; caching heuristics are determined by your API usage and have defaults for the best performance with zero or minimal configuration.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Overview에 대한 직접 링크" title="Overview에 대한 직접 링크">​</a></h2><p>Here&#x27;s a high-level overview of the different caching mechanisms and their purpose:</p><table><thead><tr><th>Mechanism</th><th>What</th><th>Where</th><th>Purpose</th><th>Duration</th></tr></thead><tbody><tr><td><a href="#request-memoization">Request Memoization</a></td><td>Return values of functions</td><td>Server</td><td>Re-use data in a React Component tree</td><td>Per-request lifecycle</td></tr><tr><td><a href="#data-cache">Data Cache</a></td><td>Data</td><td>Server</td><td>Store data across user requests and deployments</td><td>Persistent (can be revalidated)</td></tr><tr><td><a href="#full-route-cache">Full Route Cache</a></td><td>HTML and RSC payload</td><td>Server</td><td>Reduce rendering cost and improve performance</td><td>Persistent (can be revalidated)</td></tr><tr><td><a href="#router-cache">Router Cache</a></td><td>RSC Payload</td><td>Client</td><td>Reduce server requests on navigation</td><td>User session or time-based</td></tr></tbody></table><p>By default, Next.js will cache as much as possible to improve performance and reduce cost. This means routes are <strong>statically rendered</strong> and data requests are <strong>cached</strong> unless you opt out. The diagram below shows the default caching behavior: when a route is statically rendered at build time and when a static route is first visited.</p><div alt="Diagram showing the default caching behavior in Next.js for the four mechanisms, with HIT, MISS and SET at build time and when a route is first visited." srclight="/docs/light/caching-overview.png" srcdark="/docs/dark/caching-overview.png" width="1600" height="1179"></div><p>Caching behavior changes depending on whether the route is statically or dynamically rendered, data is cached or uncached, and whether a request is part of an initial visit or a subsequent navigation. Depending on your use case, you can configure the caching behavior for individual routes and data requests.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="request-memoization">Request Memoization<a href="#request-memoization" class="hash-link" aria-label="Request Memoization에 대한 직접 링크" title="Request Memoization에 대한 직접 링크">​</a></h2><p>React extends the <a href="#fetch"><code>fetch</code> API</a> to automatically <strong>memoize</strong> requests that have the same URL and options. This means you can call a fetch function for the same data in multiple places in a React component tree while only executing it once.</p><div alt="Deduplicated Fetch Requests" srclight="/docs/light/deduplicated-fetch-requests.png" srcdark="/docs/dark/deduplicated-fetch-requests.png" width="1600" height="857"></div><p>For example, if you need to use the same data across a route (e.g. in a Layout, Page, and multiple components), you do not have to fetch data at the top of the tree then forward props between components. Instead, you can fetch data in the components that need it without worrying about the performance implications of making multiple requests across the network for the same data.</p><div class="language-tsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getItem</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// The `fetch` function is automatically memoized and the result</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// is cached</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> res </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fetch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;https://.../item/1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// This function is called twice, but only executed the first time</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> item </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getItem</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// cache MISS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// The second call could be anywhere in your route</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> item </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getItem</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// cache HIT</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getItem</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// The `fetch` function is automatically memoized and the result</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// is cached</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> res </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fetch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;https://.../item/1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// This function is called twice, but only executed the first time</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> item </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getItem</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// cache MISS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// The second call could be anywhere in your route</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> item </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getItem</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// cache HIT</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>How Request Memoization Works</strong></p><div alt="Diagram showing how fetch memoization works during React rendering." srclight="/docs/light/request-memoization.png" srcdark="/docs/dark/request-memoization.png" width="1600" height="742"></div><ul><li>While rendering a route, the first time a particular request is called, its result will not be in memory and it&#x27;ll be a cache <code>MISS</code>.</li><li>Therefore, the function will be executed, and the data will be fetched from the external source, and the result will be stored in memory.</li><li>Subsequent function calls of the request in the same render pass will be a cache <code>HIT</code>, and the data will be returned from memory without executing the function.</li><li>Once the route has been rendered and the rendering pass is complete, memory is &quot;reset&quot; and all request memoization entries are cleared.</li></ul><blockquote><p><strong>Good to know</strong>:</p><ul><li>Request memoization is a React feature, not a Next.js feature. It&#x27;s included here to show how it interacts with the other caching mechanisms.</li><li>Memoization only applies to the <code>GET</code> method in <code>fetch</code> requests.</li><li>Memoization only applies to the React Component tree, this means:<ul><li>It applies to <code>fetch</code> requests in <code>generateMetadata</code>, <code>generateStaticParams</code>, Layouts, Pages, and other Server Components.</li><li>It doesn&#x27;t apply to <code>fetch</code> requests in Route Handlers as they are not a part of the React component tree.</li></ul></li><li>For cases where <code>fetch</code> is not suitable (e.g. some database clients, CMS clients, or GraphQL clients), you can use the <a href="#react-cache-function">React <code>cache</code> function</a> to memoize functions.</li></ul></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="duration">Duration<a href="#duration" class="hash-link" aria-label="Duration에 대한 직접 링크" title="Duration에 대한 직접 링크">​</a></h3><p>The cache lasts the lifetime of a server request until the React component tree has finished rendering.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="revalidating">Revalidating<a href="#revalidating" class="hash-link" aria-label="Revalidating에 대한 직접 링크" title="Revalidating에 대한 직접 링크">​</a></h3><p>Since the memoization is not shared across server requests and only applies during rendering, there is no need to revalidate it.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="opting-out">Opting out<a href="#opting-out" class="hash-link" aria-label="Opting out에 대한 직접 링크" title="Opting out에 대한 직접 링크">​</a></h3><p>To opt out of memoization in <code>fetch</code> requests, you can pass an <code>AbortController</code> <code>signal</code> to the request.</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> signal </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">AbortController</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">fetch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">url</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> signal </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-cache">Data Cache<a href="#data-cache" class="hash-link" aria-label="Data Cache에 대한 직접 링크" title="Data Cache에 대한 직접 링크">​</a></h2><p>Next.js has a built-in Data Cache that <strong>persists</strong> the result of data fetches across incoming <strong>server requests</strong> and <strong>deployments</strong>. This is possible because Next.js extends the native <code>fetch</code> API to allow each request on the server to set its own persistent caching semantics.</p><blockquote><p><strong>Good to know</strong>: In the browser, the <code>cache</code> option of <code>fetch</code> indicates how a request will interact with the browser&#x27;s HTTP cache, in Next.js, the <code>cache</code> option indicates how a server-side request will interact with the servers Data Cache.</p></blockquote><p>By default, data requests that use <code>fetch</code> are <strong>cached</strong>. You can use the <a href="#fetch-optionscache"><code>cache</code></a> and <a href="#fetch-optionsnextrevalidate"><code>next.revalidate</code></a> options of <code>fetch</code> to configure the caching behavior.</p><p><strong>How the Data Cache Works</strong></p><div alt="Diagram showing how cached and uncached fetch requests interact with the Data Cache. Cached requests are stored in the Data Cache, and memoized, uncached requests are fetched from the data source, not stored in the Data Cache, and memoized." srclight="/docs/light/data-cache.png" srcdark="/docs/dark/data-cache.png" width="1600" height="661"></div><ul><li>The first time a <code>fetch</code> request is called during rendering, Next.js checks the Data Cache for a cached response.</li><li>If a cached response is found, it&#x27;s returned immediately and <a href="#request-memoization">memoized</a>.</li><li>If a cached response is not found, the request is made to the data source, the result is stored in the Data Cache, and memoized.</li><li>For uncached data (e.g. <code>{ cache: &#x27;no-store&#x27; }</code>), the result is always fetched from the data source, and memoized.</li><li>Whether the data is cached or uncached, the requests are always memoized to avoid making duplicate requests for the same data during a React render pass.</li></ul><blockquote><p><strong>Differences between the Data Cache and Request Memoization</strong></p><p>While both caching mechanisms help improve performance by re-using cached data, the Data Cache is persistent across incoming requests and deployments, whereas memoization only lasts the lifetime of a request.</p><p>With memoization, we reduce the number of <strong>duplicate</strong> requests in the same render pass that have to cross the network boundary from the rendering server to the Data Cache server (e.g. a CDN or Edge Network) or data source (e.g. a database or CMS). With the Data Cache, we reduce the number of requests made to our origin data source.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="duration-1">Duration<a href="#duration-1" class="hash-link" aria-label="Duration에 대한 직접 링크" title="Duration에 대한 직접 링크">​</a></h3><p>The Data Cache is persistent across incoming requests and deployments unless you revalidate or opt-out.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="revalidating-1">Revalidating<a href="#revalidating-1" class="hash-link" aria-label="Revalidating에 대한 직접 링크" title="Revalidating에 대한 직접 링크">​</a></h3><p>Cached data can be revalidated in two ways, with:</p><ul><li><strong>Time-based Revalidation</strong>: Revalidate data after a certain amount of time has passed and a new request is made. This is useful for data that changes infrequently and freshness is not as critical.</li><li><strong>On-demand Revalidation:</strong> Revalidate data based on an event (e.g. form submission). On-demand revalidation can use a tag-based or path-based approach to revalidate groups of data at once. This is useful when you want to ensure the latest data is shown as soon as possible (e.g. when content from your headless CMS is updated).</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="time-based-revalidation">Time-based Revalidation<a href="#time-based-revalidation" class="hash-link" aria-label="Time-based Revalidation에 대한 직접 링크" title="Time-based Revalidation에 대한 직접 링크">​</a></h4><p>To revalidate data at a timed interval, you can use the <code>next.revalidate</code> option of <code>fetch</code> to set the cache lifetime of a resource (in seconds).</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Revalidate at most every hour</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">fetch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;https://...&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">next</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">revalidate</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3600</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Alternatively, you can use <a href="#segment-config-options">Route Segment Config options</a> to configure all <code>fetch</code> requests in a segment or for cases where you&#x27;re not able to use <code>fetch</code>.</p><p><strong>How Time-based Revalidation Works</strong></p><div alt="Diagram showing how time-based revalidation works, after the revalidation period, stale data is returned for the first request, then data is revalidated." srclight="/docs/light/time-based-revalidation.png" srcdark="/docs/dark/time-based-revalidation.png" width="1600" height="1252"></div><ul><li>The first time a fetch request with <code>revalidate</code> is called, the data will be fetched from the external data source and stored in the Data Cache.</li><li>Any requests that are called within the specified timeframe (e.g. 60-seconds) will return the cached data.</li><li>After the timeframe, the next request will still return the cached (now stale) data.<ul><li>Next.js will trigger a revalidation of the data in the background.</li><li>Once the data is fetched successfully, Next.js will update the Data Cache with the fresh data.</li><li>If the background revalidation fails, the previous data will be kept unaltered.</li></ul></li></ul><p>This is similar to <a href="https://web.dev/stale-while-revalidate/" target="_blank" rel="noopener noreferrer"><strong>stale-while-revalidate</strong></a> behavior.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="on-demand-revalidation">On-demand Revalidation<a href="#on-demand-revalidation" class="hash-link" aria-label="On-demand Revalidation에 대한 직접 링크" title="On-demand Revalidation에 대한 직접 링크">​</a></h4><p>Data can be revalidated on-demand by path (<a href="#revalidatepath"><code>revalidatePath</code></a>) or by cache tag (<a href="#fetch-optionsnexttags-and-revalidatetag"><code>revalidateTag</code></a>).</p><p><strong>How On-Demand Revalidation Works</strong></p><div alt="Diagram showing how on-demand revalidation works, the Data Cache is updated with fresh data after a revalidation request." srclight="/docs/light/on-demand-revalidation.png" srcdark="/docs/dark/on-demand-revalidation.png" width="1600" height="1082"></div><ul><li>The first time a <code>fetch</code> request is called, the data will be fetched from the external data source and stored in the Data Cache.</li><li>When an on-demand revalidation is triggered, the appropriate cache entries will be purged from the cache.<ul><li>This is different from time-based revalidation, which keeps the stale data in the cache until the fresh data is fetched.</li></ul></li><li>The next time a request is made, it will be a cache <code>MISS</code> again, and the data will be fetched from the external data source and stored in the Data Cache.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="opting-out-1">Opting out<a href="#opting-out-1" class="hash-link" aria-label="Opting out에 대한 직접 링크" title="Opting out에 대한 직접 링크">​</a></h3><p>For individual data fetches, you can opt out of caching by setting the <a href="#fetch-optionscache"><code>cache</code></a> option to <code>no-store</code>. This means data will be fetched whenever <code>fetch</code> is called.</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Opt out of caching for an individual `fetch` request</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">fetch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">https://...</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">cache</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;no-store&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Alternatively, you can also use the <a href="#segment-config-options">Route Segment Config options</a> to opt out of caching for a specific route segment. This will affect all data requests in the route segment, including third-party libraries.</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Opt out of caching for all data requests in the route segment</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> dynamic </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;force-dynamic&quot;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p><strong>Vercel Data Cache</strong></p><p>If your Next.js application is deployed to Vercel, we recommend reading the <a href="https://vercel.com/docs/infrastructure/data-cache" target="_blank" rel="noopener noreferrer">Vercel Data Cache</a> documentation for a better understanding of Vercel specific features.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="full-route-cache">Full Route Cache<a href="#full-route-cache" class="hash-link" aria-label="Full Route Cache에 대한 직접 링크" title="Full Route Cache에 대한 직접 링크">​</a></h2><blockquote><p><strong>Related terms</strong>:</p><p>You may see the terms <strong>Automatic Static Optimization</strong>, <strong>Static Site Generation</strong>, or <strong>Static Rendering</strong> being used interchangeably to refer to the process of rendering and caching routes of your application at build time.</p></blockquote><p>Next.js automatically renders and caches routes at build time. This is an optimization that allows you to serve the cached route instead of rendering on the server for every request, resulting in faster page loads.</p><p>To understand how the Full Route Cache works, it&#x27;s helpful to look at how React handles rendering, and how Next.js caches the result:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-react-rendering-on-the-server">1. React Rendering on the Server<a href="#1-react-rendering-on-the-server" class="hash-link" aria-label="1. React Rendering on the Server에 대한 직접 링크" title="1. React Rendering on the Server에 대한 직접 링크">​</a></h3><p>On the server, Next.js uses React&#x27;s APIs to orchestrate rendering. The rendering work is split into chunks: by individual routes segments and Suspense boundaries.</p><p>Each chunk is rendered in two steps:</p><ol><li>React renders Server Components into a special data format, optimized for streaming, called the <strong>React Server Component Payload</strong>.</li><li>Next.js uses the React Server Component Payload and Client Component JavaScript instructions to render <strong>HTML</strong> on the server.</li></ol><p>This means we don&#x27;t have to wait for everything to render before caching the work or sending a response. Instead, we can stream a response as work is completed.</p><blockquote><p><strong>What is the React Server Component Payload?</strong></p><p>The React Server Component Payload is a compact binary representation of the rendered React Server Components tree. It&#x27;s used by React on the client to update the browser&#x27;s DOM. The React Server Component Payload contains:</p><ul><li>The rendered result of Server Components</li><li>Placeholders for where Client Components should be rendered and references to their JavaScript files</li><li>Any props passed from a Server Component to a Client Component</li></ul><p>To learn more, see the <a href="/docs/app/building-your-application/rendering/server-components">Server Components</a> documentation.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-nextjs-caching-on-the-server-full-route-cache">2. Next.js Caching on the Server (Full Route Cache)<a href="#2-nextjs-caching-on-the-server-full-route-cache" class="hash-link" aria-label="2. Next.js Caching on the Server (Full Route Cache)에 대한 직접 링크" title="2. Next.js Caching on the Server (Full Route Cache)에 대한 직접 링크">​</a></h3><div alt="Default behavior of the Full Route Cache, showing how the React Server Component Payload and HTML are cached on the server for statically rendered routes." srclight="/docs/light/full-route-cache.png" srcdark="/docs/dark/full-route-cache.png" width="1600" height="888"></div><p>The default behavior of Next.js is to cache the rendered result (React Server Component Payload and HTML) of a route on the server. This applies to statically rendered routes at build time, or during revalidation.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-react-hydration-and-reconciliation-on-the-client">3. React Hydration and Reconciliation on the Client<a href="#3-react-hydration-and-reconciliation-on-the-client" class="hash-link" aria-label="3. React Hydration and Reconciliation on the Client에 대한 직접 링크" title="3. React Hydration and Reconciliation on the Client에 대한 직접 링크">​</a></h3><p>At request time, on the client:</p><ol><li>The HTML is used to immediately show a fast non-interactive initial preview of the Client and Server Components.</li><li>The React Server Components Payload is used to reconcile the Client and rendered Server Component trees, and update the DOM.</li><li>The JavaScript instructions are used to <a href="https://react.dev/reference/react-dom/client/hydrateRoot" target="_blank" rel="noopener noreferrer">hydrate</a> Client Components and make the application interactive.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-nextjs-caching-on-the-client-router-cache">4. Next.js Caching on the Client (Router Cache)<a href="#4-nextjs-caching-on-the-client-router-cache" class="hash-link" aria-label="4. Next.js Caching on the Client (Router Cache)에 대한 직접 링크" title="4. Next.js Caching on the Client (Router Cache)에 대한 직접 링크">​</a></h3><p>The React Server Component Payload is stored in the client-side <a href="#router-cache">Router Cache</a> - a separate in-memory cache, split by individual route segment. This Router Cache is used to improve the navigation experience by storing previously visited routes and prefetching future routes.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-subsequent-navigations">5. Subsequent Navigations<a href="#5-subsequent-navigations" class="hash-link" aria-label="5. Subsequent Navigations에 대한 직접 링크" title="5. Subsequent Navigations에 대한 직접 링크">​</a></h3><p>On subsequent navigations or during prefetching, Next.js will check if the React Server Components Payload is stored in Router Cache. If so, it will skip sending a new request to the server.</p><p>If the route segments are not in the cache, Next.js will fetch the React Server Components Payload from the server, and populate the Router Cache on the client.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="static-and-dynamic-rendering">Static and Dynamic Rendering<a href="#static-and-dynamic-rendering" class="hash-link" aria-label="Static and Dynamic Rendering에 대한 직접 링크" title="Static and Dynamic Rendering에 대한 직접 링크">​</a></h3><p>Whether a route is cached or not at build time depends on whether it&#x27;s statically or dynamically rendered. Static routes are cached by default, whereas dynamic routes are rendered at request time, and not cached.</p><p>This diagram shows the difference between statically and dynamically rendered routes, with cached and uncached data:</p><div alt="How static and dynamic rendering affects the Full Route Cache. Static routes are cached at build time or after data revalidation, whereas dynamic routes are never cached" srclight="/docs/light/static-and-dynamic-routes.png" srcdark="/docs/dark/static-and-dynamic-routes.png" width="1600" height="1314"></div><p>Learn more about <a href="/docs/app/building-your-application/rendering/server-components#server-rendering-strategies">static and dynamic rendering</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="duration-2">Duration<a href="#duration-2" class="hash-link" aria-label="Duration에 대한 직접 링크" title="Duration에 대한 직접 링크">​</a></h3><p>By default, the Full Route Cache is persistent. This means that the render output is cached across user requests.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="invalidation">Invalidation<a href="#invalidation" class="hash-link" aria-label="Invalidation에 대한 직접 링크" title="Invalidation에 대한 직접 링크">​</a></h3><p>There are two ways you can invalidate the Full Route Cache:</p><ul><li><strong><a href="/docs/app/building-your-application/caching#revalidating">Revalidating Data</a></strong>: Revalidating the <a href="#data-cache">Data Cache</a>, will in turn invalidate the Router Cache by re-rendering components on the server and caching the new render output.</li><li><strong>Redeploying</strong>: Unlike the Data Cache, which persists across deployments, the Full Route Cache is cleared on new deployments.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="opting-out-2">Opting out<a href="#opting-out-2" class="hash-link" aria-label="Opting out에 대한 직접 링크" title="Opting out에 대한 직접 링크">​</a></h3><p>You can opt out of the Full Route Cache, or in other words, dynamically render components for every incoming request, by:</p><ul><li><strong>Using a <a href="#dynamic-functions">Dynamic Function</a></strong>: This will opt the route out from the Full Route Cache and dynamically render it at request time. The Data Cache can still be used.</li><li><strong>Using the <code>dynamic = &#x27;force-dynamic&#x27;</code> or <code>revalidate = 0</code> route segment config options</strong>: This will skip the Full Route Cache and the Data Cache. Meaning components will be rendered and data fetched on every incoming request to the server. The Router Cache will still apply as it&#x27;s a client-side cache.</li><li><strong>Opting out of the <a href="#data-cache">Data Cache</a></strong>: If a route has a <code>fetch</code> request that is not cached, this will opt the route out of the Full Route Cache. The data for the specific <code>fetch</code> request will be fetched for every incoming request. Other <code>fetch</code> requests that do not opt out of caching will still be cached in the Data Cache. This allows for a hybrid of cached and uncached data.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="router-cache">Router Cache<a href="#router-cache" class="hash-link" aria-label="Router Cache에 대한 직접 링크" title="Router Cache에 대한 직접 링크">​</a></h2><blockquote><p><strong>Related Terms:</strong></p><p>You may see the Router Cache being referred to as <strong>Client-side Cache</strong> or <strong>Prefetch Cache</strong>. While <strong>Prefetch Cache</strong> refers to the prefetched route segments, <strong>Client-side Cache</strong> refers to the whole Router cache, which includes both visited and prefetched segments.
This cache specifically applies to Next.js and Server Components, and is different to the browser&#x27;s <a href="https://web.dev/bfcache/" target="_blank" rel="noopener noreferrer">bfcache</a>, though it has a similar result.</p></blockquote><p>Next.js has an in-memory client-side cache that stores the React Server Component Payload, split by individual route segments, for the duration of a user session. This is called the Router Cache.</p><p><strong>How the Router Cache Works</strong></p><div alt="How the Router cache works for static and dynamic routes, showing MISS and HIT for initial and subsequent navigations." srclight="/docs/light/router-cache.png" srcdark="/docs/dark/router-cache.png" width="1600" height="1375"></div><p>As users navigate between routes, Next.js caches visited route segments and <a href="/docs/app/building-your-application/routing/linking-and-navigating#1-prefetching">prefetches</a> the routes the user is likely to navigate to (based on <code>&lt;Link&gt;</code> components in their viewport).</p><p>This results in an improved navigation experience for the user:</p><ul><li>Instant backward/forward navigation because visited routes are cached and fast navigation to new routes because of prefetching and <a href="/docs/app/building-your-application/routing/linking-and-navigating#3-partial-rendering">partial rendering</a>.</li><li>No full-page reload between navigations and React state and browser state is preserved.</li></ul><blockquote><p><strong>Difference between the Router Cache and Full Route Cache</strong>:</p><p>The Router Cache temporarily stores the React Server Component Payload in the browser for the duration of a user session, whereas the Full Route Cache persistently stores the React Server Component Payload and HTML on the server across multiple user requests.</p><p>While the Full Route Cache only caches statically rendered routes, the Router Cache applies to both statically and dynamically rendered routes.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="duration-3">Duration<a href="#duration-3" class="hash-link" aria-label="Duration에 대한 직접 링크" title="Duration에 대한 직접 링크">​</a></h3><p>The cache is stored in the browser&#x27;s temporary memory. Two factors determine how long the router cache lasts:</p><ul><li><strong>Session</strong>: The cache persists across navigation. However, it&#x27;s cleared on page refresh.</li><li><strong>Automatic Invalidation Period</strong>: The cache of an individual segment is automatically invalidated after a specific time. The duration depends on whether the route is <a href="/docs/app/building-your-application/rendering/server-components#static-rendering-default">statically</a> or <a href="/docs/app/building-your-application/rendering/server-components#dynamic-rendering">dynamically</a> rendered:<ul><li><strong>Dynamically Rendered</strong>: 30 seconds</li><li><strong>Statically Rendered</strong>: 5 minutes</li></ul></li></ul><p>While a page refresh will clear <strong>all</strong> cached segments, the automatic invalidation period only affects the individual segment from the time it was last accessed or created.</p><p>By adding <code>prefetch={true}</code> or calling <code>router.prefetch</code> for a dynamically rendered route, you can opt into caching for 5 minutes.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="invalidation-1">Invalidation<a href="#invalidation-1" class="hash-link" aria-label="Invalidation에 대한 직접 링크" title="Invalidation에 대한 직접 링크">​</a></h3><p>There are two ways you can invalidate the Router Cache:</p><ul><li>In a <strong>Server Action</strong>:<ul><li>Revalidating data on-demand by path with (<a href="/docs/app/api-reference/functions/revalidatePath"><code>revalidatePath</code></a>) or by cache tag with (<a href="/docs/app/api-reference/functions/revalidateTag"><code>revalidateTag</code></a>)</li><li>Using <a href="/docs/app/api-reference/functions/cookies#cookiessetname-value-options"><code>cookies.set</code></a> or <a href="/docs/app/api-reference/functions/cookies#deleting-cookies"><code>cookies.delete</code></a> invalidates the Router Cache to prevent routes that use cookies from becoming stale (e.g. authentication).</li></ul></li><li>Calling <a href="/docs/app/api-reference/functions/use-router"><code>router.refresh</code></a> will invalidate the Router Cache and make a new request to the server for the current route.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="opting-out-3">Opting out<a href="#opting-out-3" class="hash-link" aria-label="Opting out에 대한 직접 링크" title="Opting out에 대한 직접 링크">​</a></h3><p>It&#x27;s not possible to opt out of the Router Cache.</p><p>You can opt out of <strong>prefetching</strong> by setting the <code>prefetch</code> prop of the <code>&lt;Link&gt;</code> component to <code>false</code>. However, this will still temporarily store the route segments for 30s to allow instant navigation between nested segments, such as tab bars, or back and forward navigation. Visited routes will still be cached.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cache-interactions">Cache Interactions<a href="#cache-interactions" class="hash-link" aria-label="Cache Interactions에 대한 직접 링크" title="Cache Interactions에 대한 직접 링크">​</a></h2><p>When configuring the different caching mechanisms, it&#x27;s important to understand how they interact with each other:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-cache-and-full-route-cache">Data Cache and Full Route Cache<a href="#data-cache-and-full-route-cache" class="hash-link" aria-label="Data Cache and Full Route Cache에 대한 직접 링크" title="Data Cache and Full Route Cache에 대한 직접 링크">​</a></h3><ul><li>Revalidating or opting out of the Data Cache <strong>will</strong> invalidate the Full Route Cache, as the render output depends on data.</li><li>Invalidating or opting out of the Full Route Cache <strong>does not</strong> affect the Data Cache. You can dynamically render a route that has both cached and uncached data. This is useful when most of your page uses cached data, but you have a few components that rely on data that needs to be fetched at request time. You can dynamically render without worrying about the performance impact of re-fetching all the data.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-cache-and-client-side-router-cache">Data Cache and Client-side Router cache<a href="#data-cache-and-client-side-router-cache" class="hash-link" aria-label="Data Cache and Client-side Router cache에 대한 직접 링크" title="Data Cache and Client-side Router cache에 대한 직접 링크">​</a></h3><ul><li>Revalidating the Data Cache in a <a href="/docs/app/building-your-application/routing/route-handlers">Route Handler</a> <strong>will not</strong> immediately invalidate the Router Cache as the Router Handler isn&#x27;t tied to a specific route. This means Router Cache will continue to serve the previous payload until a hard refresh, or the automatic invalidation period has elapsed.</li><li>To immediately invalidate the Data Cache and Router cache, you can use <a href="#revalidatepath"><code>revalidatePath</code></a> or <a href="#fetch-optionsnexttags-and-revalidatetag"><code>revalidateTag</code></a> in a <a href="/docs/app/building-your-application/data-fetching/forms-and-mutations">Server Action</a>.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apis">APIs<a href="#apis" class="hash-link" aria-label="APIs에 대한 직접 링크" title="APIs에 대한 직접 링크">​</a></h2><p>The following table provides an overview of how different Next.js APIs affect caching:</p><table><thead><tr><th>API</th><th>Router Cache</th><th>Full Route Cache</th><th>Data Cache</th><th>React Cache</th></tr></thead><tbody><tr><td><a href="#link"><code>&lt;Link prefetch&gt;</code></a></td><td>Cache</td><td></td><td></td><td></td></tr><tr><td><a href="#routerprefetch"><code>router.prefetch</code></a></td><td>Cache</td><td></td><td></td><td></td></tr><tr><td><a href="#routerrefresh"><code>router.refresh</code></a></td><td>Revalidate</td><td></td><td></td><td></td></tr><tr><td><a href="#fetch"><code>fetch</code></a></td><td></td><td></td><td>Cache</td><td>Cache</td></tr><tr><td><a href="#fetch-optionscache"><code>fetch</code> <code>options.cache</code></a></td><td></td><td></td><td>Cache or Opt out</td><td></td></tr><tr><td><a href="#fetch-optionsnextrevalidate"><code>fetch</code> <code>options.next.revalidate</code></a></td><td></td><td>Revalidate</td><td>Revalidate</td><td></td></tr><tr><td><a href="#fetch-optionsnexttags-and-revalidatetag"><code>fetch</code> <code>options.next.tags</code></a></td><td></td><td>Cache</td><td>Cache</td><td></td></tr><tr><td><a href="#fetch-optionsnexttags-and-revalidatetag"><code>revalidateTag</code></a></td><td>Revalidate (Server Action)</td><td>Revalidate</td><td>Revalidate</td><td></td></tr><tr><td><a href="#revalidatepath"><code>revalidatePath</code></a></td><td>Revalidate (Server Action)</td><td>Revalidate</td><td>Revalidate</td><td></td></tr><tr><td><a href="#segment-config-options"><code>const revalidate</code></a></td><td></td><td>Revalidate or Opt out</td><td>Revalidate or Opt out</td><td></td></tr><tr><td><a href="#segment-config-options"><code>const dynamic</code></a></td><td></td><td>Cache or Opt out</td><td>Cache or Opt out</td><td></td></tr><tr><td><a href="#cookies"><code>cookies</code></a></td><td>Revalidate (Server Action)</td><td>Opt out</td><td></td><td></td></tr><tr><td><a href="#dynamic-functions"><code>headers</code>, <code>useSearchParams</code>, <code>searchParams</code></a></td><td></td><td>Opt out</td><td></td><td></td></tr><tr><td><a href="#generatestaticparams"><code>generateStaticParams</code></a></td><td></td><td>Cache</td><td></td><td></td></tr><tr><td><a href="#react-cache-function"><code>React.cache</code></a></td><td></td><td></td><td></td><td>Cache</td></tr><tr><td><a href="/docs/app/api-reference/functions/unstable_cache"><code>unstable_cache</code></a></td><td></td><td></td><td></td><td></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="link"><code>&lt;Link&gt;</code><a href="#link" class="hash-link" aria-label="link에 대한 직접 링크" title="link에 대한 직접 링크">​</a></h3><p>By default, the <code>&lt;Link&gt;</code> component automatically prefetches routes from the Full Route Cache and adds the React Server Component Payload to the Router Cache.</p><p>To disable prefetching, you can set the <code>prefetch</code> prop to <code>false</code>. But this will not skip the cache permanently, the route segment will still be cached client-side when the user visits the route.</p><p>Learn more about the <a href="/docs/app/api-reference/components/link"><code>&lt;Link&gt;</code> component</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="routerprefetch"><code>router.prefetch</code><a href="#routerprefetch" class="hash-link" aria-label="routerprefetch에 대한 직접 링크" title="routerprefetch에 대한 직접 링크">​</a></h3><p>The <code>prefetch</code> option of the <code>useRouter</code> hook can be used to manually prefetch a route. This adds the React Server Component Payload to the Router Cache.</p><p>See the <a href="/docs/app/api-reference/functions/use-router"><code>useRouter</code> hook</a> API reference.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="routerrefresh"><code>router.refresh</code><a href="#routerrefresh" class="hash-link" aria-label="routerrefresh에 대한 직접 링크" title="routerrefresh에 대한 직접 링크">​</a></h3><p>The <code>refresh</code> option of the <code>useRouter</code> hook can be used to manually refresh a route. This completely clears the Router Cache, and makes a new request to the server for the current route. <code>refresh</code> does not affect the Data or Full Route Cache.</p><p>The rendered result will be reconciled on the client while preserving React state and browser state.</p><p>See the <a href="/docs/app/api-reference/functions/use-router"><code>useRouter</code> hook</a> API reference.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fetch"><code>fetch</code><a href="#fetch" class="hash-link" aria-label="fetch에 대한 직접 링크" title="fetch에 대한 직접 링크">​</a></h3><p>Data returned from <code>fetch</code> is automatically cached in the Data Cache.</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Cached by default. `force-cache` is the default option and can be ommitted.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">fetch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">https://...</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">cache</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;force-cache&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>See the <a href="/docs/app/api-reference/functions/fetch"><code>fetch</code> API Reference</a> for more options.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fetch-optionscache"><code>fetch options.cache</code><a href="#fetch-optionscache" class="hash-link" aria-label="fetch-optionscache에 대한 직접 링크" title="fetch-optionscache에 대한 직접 링크">​</a></h3><p>You can opt out individual <code>fetch</code> requests of data caching by setting the <code>cache</code> option to <code>no-store</code>:</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Opt out of caching</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">fetch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">https://...</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">cache</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;no-store&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Since the render output depends on data, using <code>cache: &#x27;no-store&#x27;</code> will also skip the Full Route Cache for the route where the <code>fetch</code> request is used. That is, the route will be dynamically rendered every request, but you can still have other cached data requests in the same route.</p><p>See the <a href="/docs/app/api-reference/functions/fetch"><code>fetch</code> API Reference</a> for more options.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fetch-optionsnextrevalidate"><code>fetch options.next.revalidate</code><a href="#fetch-optionsnextrevalidate" class="hash-link" aria-label="fetch-optionsnextrevalidate에 대한 직접 링크" title="fetch-optionsnextrevalidate에 대한 직접 링크">​</a></h3><p>You can use the <code>next.revalidate</code> option of <code>fetch</code> to set the revalidation period (in seconds) of an individual <code>fetch</code> request. This will revalidate the Data Cache, which in turn will revalidate the Full Route Cache. Fresh data will be fetched, and components will be re-rendered on the server.</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Revalidate at most after 1 hour</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">fetch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">https://...</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">next</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">revalidate</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3600</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>See the <a href="/docs/app/api-reference/functions/fetch"><code>fetch</code> API reference</a> for more options.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fetch-optionsnexttags-and-revalidatetag"><code>fetch options.next.tags</code> and <code>revalidateTag</code><a href="#fetch-optionsnexttags-and-revalidatetag" class="hash-link" aria-label="fetch-optionsnexttags-and-revalidatetag에 대한 직접 링크" title="fetch-optionsnexttags-and-revalidatetag에 대한 직접 링크">​</a></h3><p>Next.js has a cache tagging system for fine-grained data caching and revalidation.</p><ol><li>When using <code>fetch</code> or <a href="/docs/app/api-reference/functions/unstable_cache"><code>unstable_cache</code></a>, you have the option to tag cache entries with one or more tags.</li><li>Then, you can call <code>revalidateTag</code> to purge the cache entries associated with that tag.</li></ol><p>For example, you can set a tag when fetching data:</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Cache data with a tag</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">fetch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">https://...</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">next</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">tags</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;a&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;b&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;c&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then, call <code>revalidateTag</code> with a tag to purge the cache entry:</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Revalidate entries with a specific tag</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">revalidateTag</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;a&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>There are two places you can use <code>revalidateTag</code>, depending on what you&#x27;re trying to achieve:</p><ol><li><a href="/docs/app/building-your-application/routing/route-handlers">Route Handlers</a> - to revalidate data in response of a third party event (e.g. webhook). This will not invalidate the Router Cache immediately as the Router Handler isn&#x27;t tied to a specific route.</li><li><a href="/docs/app/building-your-application/data-fetching/forms-and-mutations">Server Actions</a> - to revalidate data after a user action (e.g. form submission). This will invalidate the Router Cache for the associated route.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="revalidatepath"><code>revalidatePath</code><a href="#revalidatepath" class="hash-link" aria-label="revalidatepath에 대한 직접 링크" title="revalidatepath에 대한 직접 링크">​</a></h3><p><code>revalidatePath</code> allows you manually revalidate data <strong>and</strong> re-render the route segments below a specific path in a single operation. Calling <code>revalidatePath</code> methods revalidate the Data Cache, which in turn invalidates the Full Route Cache.</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">revalidatePath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;/&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>There are two places you can use <code>revalidatePath</code>, depending on what you&#x27;re trying to achieve:</p><ol><li><a href="/docs/app/building-your-application/routing/route-handlers">Route Handlers</a> - to revalidate data in response to a third party event (e.g. webhook).</li><li><a href="/docs/app/building-your-application/data-fetching/forms-and-mutations">Server Actions</a> - to revalidate data after a user interaction (e.g. form submission, clicking a button).</li></ol><p>See the <a href="/docs/app/api-reference/functions/revalidatePath"><code>revalidatePath</code> API reference</a> for more information.</p><blockquote><p><strong><code>revalidatePath</code></strong> vs. <strong><code>router.refresh</code></strong>:</p><p>Calling <code>router.refresh</code> will clear the Router cache, and re-render route segments on the server without invalidating the Data Cache or the Full Route Cache.</p><p>The difference is that <code>revalidatePath</code> purges the Data Cache and Full Route Cache, whereas <code>router.refresh()</code> does not change the Data Cache and Full Route Cache, as it is a client-side API.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dynamic-functions">Dynamic Functions<a href="#dynamic-functions" class="hash-link" aria-label="Dynamic Functions에 대한 직접 링크" title="Dynamic Functions에 대한 직접 링크">​</a></h3><p><code>cookies</code>, <code>headers</code>, <code>useSearchParams</code>, and <code>searchParams</code> are all dynamic functions that depend on runtime incoming request information. Using them will opt a route out of the Full Route Cache, in other words, the route will be dynamically rendered.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="cookies"><code>cookies</code><a href="#cookies" class="hash-link" aria-label="cookies에 대한 직접 링크" title="cookies에 대한 직접 링크">​</a></h4><p>Using <code>cookies.set</code> or <code>cookies.delete</code> in a Server Action invalidates the Router Cache to prevent routes that use cookies from becoming stale (e.g. to reflect authentication changes).</p><p>See the <a href="/docs/app/api-reference/functions/cookies"><code>cookies</code></a> API reference.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="segment-config-options">Segment Config Options<a href="#segment-config-options" class="hash-link" aria-label="Segment Config Options에 대한 직접 링크" title="Segment Config Options에 대한 직접 링크">​</a></h3><p>The Route Segment Config options can be used to override the route segment defaults or when you&#x27;re not able to use the <code>fetch</code> API (e.g. database client or 3rd party libraries).</p><p>The following Route Segment Config options will opt out of the Data Cache and Full Route Cache:</p><ul><li><code>const dynamic = &#x27;force-dynamic&#x27;</code></li><li><code>const revalidate = 0</code></li></ul><p>See the <a href="/docs/app/api-reference/file-conventions/route-segment-config">Route Segment Config</a> documentation for more options.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="generatestaticparams"><code>generateStaticParams</code><a href="#generatestaticparams" class="hash-link" aria-label="generatestaticparams에 대한 직접 링크" title="generatestaticparams에 대한 직접 링크">​</a></h3><p>For <a href="/docs/app/building-your-application/routing/dynamic-routes">dynamic segments</a> (e.g. <code>app/blog/[slug]/page.js</code>), paths provided by <code>generateStaticParams</code> are cached in the Full Route Cache at build time. At request time, Next.js will also cache paths that weren&#x27;t known at build time the first time they&#x27;re visited.</p><p>You can disable caching at request time by using <code>export const dynamicParams = false</code> option in a route segment. When this config option is used, only paths provided by <code>generateStaticParams</code> will be served, and other routes will 404 or match (in the case of <a href="/docs/app/building-your-application/routing/dynamic-routes#catch-all-segments">catch-all routes</a>).</p><p>See the <a href="/docs/app/api-reference/functions/generate-static-params"><code>generateStaticParams</code> API reference</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="react-cache-function">React <code>cache</code> function<a href="#react-cache-function" class="hash-link" aria-label="react-cache-function에 대한 직접 링크" title="react-cache-function에 대한 직접 링크">​</a></h3><p>The React <code>cache</code> function allows you to memoize the return value of a function, allowing you to call the same function multiple times while only executing it once.</p><p>Since <code>fetch</code> requests are automatically memoized, you do not need to wrap it in React <code>cache</code>. However, you can use <code>cache</code> to manually memoize data requests for use cases when the <code>fetch</code> API is not suitable. For example, some database clients, CMS clients, or GraphQL clients.</p><div class="language-tsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> cache </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;react&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">db</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@/lib/db&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> getItem </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cache</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> item </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">item</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">findUnique</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> id </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> item</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> cache </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;react&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">db</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@/lib/db&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> getItem </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cache</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> item </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">item</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">findUnique</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> id </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> item</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/02-app/01-building-your-application/04-caching/index.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>페이지 편집</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="문서 페이지"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/app/building-your-application/rendering/edge-and-nodejs-runtimes"><div class="pagination-nav__sublabel">이전</div><div class="pagination-nav__label">Edge and Node.js Runtimes</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/app/building-your-application/styling"><div class="pagination-nav__sublabel">다음</div><div class="pagination-nav__label">Styling</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#request-memoization" class="table-of-contents__link toc-highlight">Request Memoization</a><ul><li><a href="#duration" class="table-of-contents__link toc-highlight">Duration</a></li><li><a href="#revalidating" class="table-of-contents__link toc-highlight">Revalidating</a></li><li><a href="#opting-out" class="table-of-contents__link toc-highlight">Opting out</a></li></ul></li><li><a href="#data-cache" class="table-of-contents__link toc-highlight">Data Cache</a><ul><li><a href="#duration-1" class="table-of-contents__link toc-highlight">Duration</a></li><li><a href="#revalidating-1" class="table-of-contents__link toc-highlight">Revalidating</a></li><li><a href="#opting-out-1" class="table-of-contents__link toc-highlight">Opting out</a></li></ul></li><li><a href="#full-route-cache" class="table-of-contents__link toc-highlight">Full Route Cache</a><ul><li><a href="#1-react-rendering-on-the-server" class="table-of-contents__link toc-highlight">1. React Rendering on the Server</a></li><li><a href="#2-nextjs-caching-on-the-server-full-route-cache" class="table-of-contents__link toc-highlight">2. Next.js Caching on the Server (Full Route Cache)</a></li><li><a href="#3-react-hydration-and-reconciliation-on-the-client" class="table-of-contents__link toc-highlight">3. React Hydration and Reconciliation on the Client</a></li><li><a href="#4-nextjs-caching-on-the-client-router-cache" class="table-of-contents__link toc-highlight">4. Next.js Caching on the Client (Router Cache)</a></li><li><a href="#5-subsequent-navigations" class="table-of-contents__link toc-highlight">5. Subsequent Navigations</a></li><li><a href="#static-and-dynamic-rendering" class="table-of-contents__link toc-highlight">Static and Dynamic Rendering</a></li><li><a href="#duration-2" class="table-of-contents__link toc-highlight">Duration</a></li><li><a href="#invalidation" class="table-of-contents__link toc-highlight">Invalidation</a></li><li><a href="#opting-out-2" class="table-of-contents__link toc-highlight">Opting out</a></li></ul></li><li><a href="#router-cache" class="table-of-contents__link toc-highlight">Router Cache</a><ul><li><a href="#duration-3" class="table-of-contents__link toc-highlight">Duration</a></li><li><a href="#invalidation-1" class="table-of-contents__link toc-highlight">Invalidation</a></li><li><a href="#opting-out-3" class="table-of-contents__link toc-highlight">Opting out</a></li></ul></li><li><a href="#cache-interactions" class="table-of-contents__link toc-highlight">Cache Interactions</a><ul><li><a href="#data-cache-and-full-route-cache" class="table-of-contents__link toc-highlight">Data Cache and Full Route Cache</a></li><li><a href="#data-cache-and-client-side-router-cache" class="table-of-contents__link toc-highlight">Data Cache and Client-side Router cache</a></li></ul></li><li><a href="#apis" class="table-of-contents__link toc-highlight">APIs</a><ul><li><a href="#link" class="table-of-contents__link toc-highlight"><code>&lt;Link&gt;</code></a></li><li><a href="#routerprefetch" class="table-of-contents__link toc-highlight"><code>router.prefetch</code></a></li><li><a href="#routerrefresh" class="table-of-contents__link toc-highlight"><code>router.refresh</code></a></li><li><a href="#fetch" class="table-of-contents__link toc-highlight"><code>fetch</code></a></li><li><a href="#fetch-optionscache" class="table-of-contents__link toc-highlight"><code>fetch options.cache</code></a></li><li><a href="#fetch-optionsnextrevalidate" class="table-of-contents__link toc-highlight"><code>fetch options.next.revalidate</code></a></li><li><a href="#fetch-optionsnexttags-and-revalidatetag" class="table-of-contents__link toc-highlight"><code>fetch options.next.tags</code> and <code>revalidateTag</code></a></li><li><a href="#revalidatepath" class="table-of-contents__link toc-highlight"><code>revalidatePath</code></a></li><li><a href="#dynamic-functions" class="table-of-contents__link toc-highlight">Dynamic Functions</a></li><li><a href="#segment-config-options" class="table-of-contents__link toc-highlight">Segment Config Options</a></li><li><a href="#generatestaticparams" class="table-of-contents__link toc-highlight"><code>generateStaticParams</code></a></li><li><a href="#react-cache-function" class="table-of-contents__link toc-highlight">React <code>cache</code> function</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.078f9fe6.js"></script>
<script src="/assets/js/main.29f9d694.js"></script>
</body>
</html>