"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[4671],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>h});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),s=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=s(e.components);return a.createElement(l.Provider,{value:t},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,d=p(e,["components","mdxType","originalType","parentName"]),u=s(n),m=i,h=u["".concat(l,".").concat(m)]||u[m]||c[m]||r;return n?a.createElement(h,o(o({ref:t},d),{},{components:n})):a.createElement(h,o({ref:t},d))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=m;var p={};for(var l in t)hasOwnProperty.call(t,l)&&(p[l]=t[l]);p.originalType=e,p[u]="string"==typeof e?e:i,o[1]=p;for(var s=2;s<r;s++)o[s]=n[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},9146:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>c,frontMatter:()=>r,metadata:()=>p,toc:()=>s});var a=n(7462),i=(n(7294),n(3905));const r={title:"exportPathMap (Deprecated)",sidebar_label:"exportPathMap",description:"Customize the pages that will be exported as HTML files when using `next export`."},o=void 0,p={unversionedId:"app/api-reference/next-config-js/exportPathMap",id:"app/api-reference/next-config-js/exportPathMap",title:"exportPathMap (Deprecated)",description:"Customize the pages that will be exported as HTML files when using `next export`.",source:"@site/docs/02-app/02-api-reference/05-next-config-js/exportPathMap.mdx",sourceDirName:"02-app/02-api-reference/05-next-config-js",slug:"/app/api-reference/next-config-js/exportPathMap",permalink:"/nano-nextjs-study/docs/app/api-reference/next-config-js/exportPathMap",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/02-app/02-api-reference/05-next-config-js/exportPathMap.mdx",tags:[],version:"current",frontMatter:{title:"exportPathMap (Deprecated)",sidebar_label:"exportPathMap",description:"Customize the pages that will be exported as HTML files when using `next export`."},sidebar:"tutorialSidebar",previous:{title:"eslint",permalink:"/nano-nextjs-study/docs/app/api-reference/next-config-js/eslint"},next:{title:"generateBuildId",permalink:"/nano-nextjs-study/docs/app/api-reference/next-config-js/generateBuildId"}},l={},s=[{value:"Adding a trailing slash",id:"adding-a-trailing-slash",level:2},{value:"Customizing the output directory",id:"customizing-the-output-directory",level:2}],d={toc:s},u="wrapper";function c(e){let{components:t,...n}=e;return(0,i.kt)(u,(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"{/",(0,i.kt)("em",{parentName:"p"}," The content of this doc is shared between the app and pages router. You can use the  component to add content that is specific to the Pages Router. Any shared content should not be wrapped in a component. "),"/}"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"This feature is exclusive to ",(0,i.kt)("inlineCode",{parentName:"p"},"next export")," and currently ",(0,i.kt)("strong",{parentName:"p"},"deprecated")," in favor of ",(0,i.kt)("inlineCode",{parentName:"p"},"getStaticPaths")," with ",(0,i.kt)("inlineCode",{parentName:"p"},"pages")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"generateStaticParams")," with ",(0,i.kt)("inlineCode",{parentName:"p"},"app"),".")),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Examples"),"- [Static Export](https://github.com/vercel/next.js/tree/canary/examples/with-static-export)"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"exportPathMap")," allows you to specify a mapping of request paths to page destinations, to be used during export. Paths defined in ",(0,i.kt)("inlineCode",{parentName:"p"},"exportPathMap")," will also be available when using ",(0,i.kt)("a",{parentName:"p",href:"/docs/app/api-reference/next-cli#development"},(0,i.kt)("inlineCode",{parentName:"a"},"next dev")),"."),(0,i.kt)("p",null,"Let's start with an example, to create a custom ",(0,i.kt)("inlineCode",{parentName:"p"},"exportPathMap")," for an app with the following pages:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"pages/index.js")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"pages/about.js")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"pages/post.js"))),(0,i.kt)("p",null,"Open ",(0,i.kt)("inlineCode",{parentName:"p"},"next.config.js")," and add the following ",(0,i.kt)("inlineCode",{parentName:"p"},"exportPathMap")," config:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js",metastring:'filename="next.config.js"',filename:'"next.config.js"'},'module.exports = {\n    exportPathMap: async function (\n        defaultPathMap,\n        { dev, dir, outDir, distDir, buildId },\n    ) {\n        return {\n            "/": { page: "/" },\n            "/about": { page: "/about" },\n            "/p/hello-nextjs": {\n                page: "/post",\n                query: { title: "hello-nextjs" },\n            },\n            "/p/learn-nextjs": {\n                page: "/post",\n                query: { title: "learn-nextjs" },\n            },\n            "/p/deploy-nextjs": {\n                page: "/post",\n                query: { title: "deploy-nextjs" },\n            },\n        };\n    },\n};\n')),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("strong",{parentName:"p"},"Good to know"),": the ",(0,i.kt)("inlineCode",{parentName:"p"},"query")," field in ",(0,i.kt)("inlineCode",{parentName:"p"},"exportPathMap")," cannot be used with ",(0,i.kt)("a",{parentName:"p",href:"/docs/pages/building-your-application/rendering/automatic-static-optimization"},"automatically statically optimized pages")," or ",(0,i.kt)("a",{parentName:"p",href:"/docs/pages/building-your-application/data-fetching/get-static-props"},(0,i.kt)("inlineCode",{parentName:"a"},"getStaticProps")," pages")," as they are rendered to HTML files at build-time and additional query information cannot be provided during ",(0,i.kt)("inlineCode",{parentName:"p"},"next export"),".")),(0,i.kt)("p",null,"The pages will then be exported as HTML files, for example, ",(0,i.kt)("inlineCode",{parentName:"p"},"/about")," will become ",(0,i.kt)("inlineCode",{parentName:"p"},"/about.html"),"."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"exportPathMap")," is an ",(0,i.kt)("inlineCode",{parentName:"p"},"async")," function that receives 2 arguments: the first one is ",(0,i.kt)("inlineCode",{parentName:"p"},"defaultPathMap"),", which is the default map used by Next.js. The second argument is an object with:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"dev")," - ",(0,i.kt)("inlineCode",{parentName:"li"},"true")," when ",(0,i.kt)("inlineCode",{parentName:"li"},"exportPathMap")," is being called in development. ",(0,i.kt)("inlineCode",{parentName:"li"},"false")," when running ",(0,i.kt)("inlineCode",{parentName:"li"},"next export"),". In development ",(0,i.kt)("inlineCode",{parentName:"li"},"exportPathMap")," is used to define routes."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"dir")," - Absolute path to the project directory"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"outDir")," - Absolute path to the ",(0,i.kt)("inlineCode",{parentName:"li"},"out/")," directory (",(0,i.kt)("a",{parentName:"li",href:"#customizing-the-output-directory"},"configurable with ",(0,i.kt)("inlineCode",{parentName:"a"},"-o")),"). When ",(0,i.kt)("inlineCode",{parentName:"li"},"dev")," is ",(0,i.kt)("inlineCode",{parentName:"li"},"true")," the value of ",(0,i.kt)("inlineCode",{parentName:"li"},"outDir")," will be ",(0,i.kt)("inlineCode",{parentName:"li"},"null"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"distDir")," - Absolute path to the ",(0,i.kt)("inlineCode",{parentName:"li"},".next/")," directory (configurable with the ",(0,i.kt)("a",{parentName:"li",href:"/docs/pages/api-reference/next-config-js/distDir"},(0,i.kt)("inlineCode",{parentName:"a"},"distDir"))," config)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"buildId")," - The generated build id")),(0,i.kt)("p",null,"The returned object is a map of pages where the ",(0,i.kt)("inlineCode",{parentName:"p"},"key")," is the ",(0,i.kt)("inlineCode",{parentName:"p"},"pathname")," and the ",(0,i.kt)("inlineCode",{parentName:"p"},"value")," is an object that accepts the following fields:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"page"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"String")," - the page inside the ",(0,i.kt)("inlineCode",{parentName:"li"},"pages")," directory to render"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"query"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"Object")," - the ",(0,i.kt)("inlineCode",{parentName:"li"},"query")," object passed to ",(0,i.kt)("inlineCode",{parentName:"li"},"getInitialProps")," when prerendering. Defaults to ",(0,i.kt)("inlineCode",{parentName:"li"},"{}"))),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"The exported ",(0,i.kt)("inlineCode",{parentName:"p"},"pathname")," can also be a filename (for example, ",(0,i.kt)("inlineCode",{parentName:"p"},"/readme.md"),"), but you may need to set the ",(0,i.kt)("inlineCode",{parentName:"p"},"Content-Type")," header to ",(0,i.kt)("inlineCode",{parentName:"p"},"text/html")," when serving its content if it is different than ",(0,i.kt)("inlineCode",{parentName:"p"},".html"),".")),(0,i.kt)("h2",{id:"adding-a-trailing-slash"},"Adding a trailing slash"),(0,i.kt)("p",null,"It is possible to configure Next.js to export pages as ",(0,i.kt)("inlineCode",{parentName:"p"},"index.html")," files and require trailing slashes, ",(0,i.kt)("inlineCode",{parentName:"p"},"/about")," becomes ",(0,i.kt)("inlineCode",{parentName:"p"},"/about/index.html")," and is routable via ",(0,i.kt)("inlineCode",{parentName:"p"},"/about/"),". This was the default behavior prior to Next.js 9."),(0,i.kt)("p",null,"To switch back and add a trailing slash, open ",(0,i.kt)("inlineCode",{parentName:"p"},"next.config.js")," and enable the ",(0,i.kt)("inlineCode",{parentName:"p"},"trailingSlash")," config:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js",metastring:'filename="next.config.js"',filename:'"next.config.js"'},"module.exports = {\n    trailingSlash: true,\n};\n")),(0,i.kt)("h2",{id:"customizing-the-output-directory"},"Customizing the output directory"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/app/building-your-application/deploying/static-exports"},(0,i.kt)("inlineCode",{parentName:"a"},"next export"))," will use ",(0,i.kt)("inlineCode",{parentName:"p"},"out")," as the default output directory, you can customize this using the ",(0,i.kt)("inlineCode",{parentName:"p"},"-o")," argument, like so:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:'filename="Terminal"',filename:'"Terminal"'},"next export -o outdir\n")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("strong",{parentName:"p"},"Warning"),": Using ",(0,i.kt)("inlineCode",{parentName:"p"},"exportPathMap")," is deprecated and is overridden by ",(0,i.kt)("inlineCode",{parentName:"p"},"getStaticPaths")," inside ",(0,i.kt)("inlineCode",{parentName:"p"},"pages"),". We don't recommend using them together.")))}c.isMDXComponent=!0}}]);