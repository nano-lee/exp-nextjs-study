"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[8363],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>g});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),l=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=l(e.components);return a.createElement(p.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,p=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),c=l(n),m=r,g=c["".concat(p,".").concat(m)]||c[m]||d[m]||o;return n?a.createElement(g,i(i({ref:t},u),{},{components:n})):a.createElement(g,i({ref:t},u))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=m;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s[c]="string"==typeof e?e:r,i[1]=s;for(var l=2;l<o;l++)i[l]=n[l];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},8052:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var a=n(7462),r=(n(7294),n(3905));const o={sidebar_position:3,title:"Forms and Mutations",sidebar_label:"Forms and Mutations",description:"Learn how to handle form submissions and data mutations with Next.js.",source:"app/building-your-application/data-fetching/forms-and-mutations"},i=void 0,s={unversionedId:"pages/building-your-application/data-fetching/forms-and-mutations",id:"pages/building-your-application/data-fetching/forms-and-mutations",title:"Forms and Mutations",description:"Learn how to handle form submissions and data mutations with Next.js.",source:"@site/docs/03-pages/01-building-your-application/03-data-fetching/03-forms-and-mutations.mdx",sourceDirName:"03-pages/01-building-your-application/03-data-fetching",slug:"/pages/building-your-application/data-fetching/forms-and-mutations",permalink:"/docs/pages/building-your-application/data-fetching/forms-and-mutations",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/03-pages/01-building-your-application/03-data-fetching/03-forms-and-mutations.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"Forms and Mutations",sidebar_label:"Forms and Mutations",description:"Learn how to handle form submissions and data mutations with Next.js.",source:"app/building-your-application/data-fetching/forms-and-mutations"},sidebar:"nextJsSidebar",previous:{title:"getStaticPaths",permalink:"/docs/pages/building-your-application/data-fetching/get-static-paths"},next:{title:"getServerSideProps",permalink:"/docs/pages/building-your-application/data-fetching/get-server-side-props"}},p={},l=[{value:"Actions",id:"actions",level:3},{value:"Form Actions",id:"form-actions",level:3},{value:"Server Functions",id:"server-functions",level:3},{value:"Server Actions",id:"server-actions",level:3},{value:"Server Mutations",id:"server-mutations",level:3},{value:"\uc608\uc2dc",id:"\uc608\uc2dc",level:2},{value:"Server-only Forms",id:"server-only-forms",level:3},{value:"Redirecting",id:"redirecting",level:3},{value:"Form Validation",id:"form-validation",level:3},{value:"Displaying Loading State",id:"displaying-loading-state",level:3},{value:"Error Handling",id:"error-handling",level:3},{value:"Setting Cookies",id:"setting-cookies",level:3},{value:"Reading Cookies",id:"reading-cookies",level:3},{value:"Deleting Cookies",id:"deleting-cookies",level:3}],u={toc:l},c="wrapper";function d(e){let{components:t,...n}=e;return(0,r.kt)(c,(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"{/* DO NOT EDIT. The content of this doc is generated from the source above. To edit the content of this page, navigate to the source page in your editor. You can use the ",(0,r.kt)("inlineCode",{parentName:"p"},"Content")," component to add content that is specific to the Pages Router. Any shared content should not be wrapped in a component. "),(0,r.kt)("p",null,"The content of this doc is shared between the app and pages router. You can use the ",(0,r.kt)("inlineCode",{parentName:"p"},"<PagesOnly>Content</PagesOnly>")," component to add content that is specific to the Pages Router. Any shared content should not be wrapped in a component. */}"),(0,r.kt)("p",null,"Form\uc744 \uc0ac\uc6a9\ud558\uba74 \uc6f9 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0\uc11c \ub370\uc774\ud130\ub97c \uc0dd\uc131\ud558\uace0 \uc5c5\ub370\uc774\ud2b8\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. Next.js\ub294 ",(0,r.kt)("strong",{parentName:"p"},"API Route"),"\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc591\uc2dd \uc81c\ucd9c \ubc0f \ub370\uc774\ud130 \ubcc0\ud615\uc744 \ucc98\ub9ac\ud558\ub294 \uac15\ub825\ud55c \ubc29\ubc95\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"\uc54c\uc544\ub450\uba74 \uc88b\uc740 \uc815\ubcf4:")),(0,r.kt)("ul",{parentName:"blockquote"},(0,r.kt)("li",{parentName:"ul"},"\uc571 \ub77c\uc6b0\ud130\uc5d0\uc11c \uc591\uc2dd \uc81c\ucd9c \ubc0f \ub370\uc774\ud130 \ubcc0\ud615\uc744 \ucc98\ub9ac\ud558\ub294 \ub370 \uc11c\ubc84 \uc561\uc158\uc744 \uc0ac\uc6a9\ud560 \uac83\uc744 ",(0,r.kt)("a",{parentName:"li",href:"https://nextjs.org/docs/app/building-your-application/upgrading/app-router-migration"},"\uc810\uc9c4\uc801\uc73c\ub85c \uad8c\uc7a5"),"\ud560 \uc608\uc815\uc785\ub2c8\ub2e4. ",(0,r.kt)("a",{parentName:"li",href:"https://nextjs.org/docs/app/building-your-application/data-fetching/forms-and-mutations#how-server-actions-work"},"\uc11c\ubc84 \uc561\uc158"),"\uc744 \uc0ac\uc6a9\ud558\uba74 API Route\ub97c \uc218\ub3d9\uc73c\ub85c \ub9cc\ub4e4 \ud544\uc694 \uc5c6\uc774 \ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c \uc9c1\uc811 \ud638\ucd9c\ud560 \uc218 \uc788\ub294 \ube44\ub3d9\uae30 \uc11c\ubc84 \ud568\uc218\ub97c \uc815\uc758\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n= API Route\ub294 ",(0,r.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/docs/Web/HTTP/CORS"},"CORS header\ub97c \uc9c0\uc815\ud558\uc9c0 \uc54a\uc73c\ubbc0\ub85c")," \uae30\ubcf8\uc801\uc73c\ub85c \ub3d9\uc77c \ucd9c\ucc98\ub9cc \uc9c0\uc815\ud569\ub2c8\ub2e4."),(0,r.kt)("li",{parentName:"ul"},"API Route\ub294 \uc11c\ubc84\uc5d0\uc11c \uc2e4\ud589\ub418\ubbc0\ub85c \ud074\ub77c\uc774\uc5b8\ud2b8\uc5d0 \ub178\ucd9c\ud558\uc9c0 \uc54a\uace0 ",(0,r.kt)("a",{parentName:"li",href:"https://nextjs.org/docs/pages/building-your-application/configuring/environment-variables"},"\ud658\uacbd \ubcc0\uc218"),"\ub97c \ud1b5\ud574 API \ud0a4\uc640 \uac19\uc740 \ubbfc\uac10\ud55c \uac12\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub294 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc758 \ubcf4\uc548\uc5d0 \ub9e4\uc6b0 \uc911\uc694\ud569\ub2c8\ub2e4."))),(0,r.kt)("details",null,(0,r.kt)("summary",null,"app-router action"),(0,r.kt)("div",{markdown:"1"},(0,r.kt)("h3",{id:"actions"},"Actions"),(0,r.kt)("p",null,"Actions\ub294 \ub9ac\uc561\ud2b8\uc758 \uc2e4\ud5d8\uc801\uc778 \uae30\ub2a5\uc785\ub2c8\ub2e4, \uc0ac\uc6a9\uc790 \uc0c1\ud638\uc791\uc6a9\uc758 \uc751\ub2f5\uc73c\ub85c ",(0,r.kt)("inlineCode",{parentName:"p"},"\ube44\ub3d9\uae30"),"\ucf54\ub4dc\ub97c \uc2e4\ud589\ud560 \uc218 \uc788\ub3c4\ub85d \ud574\uc90d\ub2c8\ub2e4."),(0,r.kt)("p",null,"Actions\ub294 Next.js\ub098 \ub9ac\uc561\ud2b8 \uc11c\ubc84 \ucef4\ud3ec\ub10c\ud2b8\uc758 \ud2b9\ubcc4\uc810\uc774 \uc544\ub2c8\uc9c0\ub9cc, \uc544\uc9c1 \uc548\uc815\uc801\uc778 \ub9ac\uc561\ud2b8 \ubc84\uc804\uc5d0\uc11c\ub294 \uc0ac\uc6a9\ud558\uc9c0 \ubabb\ud569\ub2c8\ub2e4. Actions\ub97c Next.js\ub97c \ud1b5\ud574 \uc0ac\uc6a9\ud560 \ub54c, \ub9ac\uc561\ud2b8\uc758 ",(0,r.kt)("inlineCode",{parentName:"p"},"experimental")," \ucc44\ub110\uc744 \uc0ac\uc6a9\ud558\uac8c \ub429\ub2c8\ub2e4."),(0,r.kt)("p",null,"Actions\ub294 \uc694\uc18c \ub0b4\ubd80\uc758 ",(0,r.kt)("inlineCode",{parentName:"p"},"action")," \uc778\uc790\ub97c \ud1b5\ud574 \uc815\uc758\ub429\ub2c8\ub2e4. \uc77c\ubc18\uc801\uc73c\ub85c HTML form\uc744 \uc791\uc131\ud560 \ub54c, URL\uc744 ",(0,r.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#action"},(0,r.kt)("inlineCode",{parentName:"a"},"action")," \uc778\uc790"),"\ub85c \ub123\uc5b4\uc904 \uc218 \uc788\uc2b5\ub2c8\ub2e4. Actions\ub97c \ud1b5\ud574, \ub9ac\uc561\ud2b8\ub294 \ud568\uc218\ub97c \uc989\uc2dc \ub123\uc5b4\uc904 \uc218 \uc788\ub3c4\ub85d \ud574\uc90d\ub2c8\ub2e4."),(0,r.kt)("p",null,"\ub9ac\uc561\ud2b8\ub294 Actions\uc640 \ud568\uaed8 ",(0,r.kt)("a",{parentName:"p",href:"#experimental-useoptimistic"},"\ucd5c\uc801\ud654\ub41c \uc5c5\ub370\uc774\ud2b8"),"\ub97c \uc704\ud574 \uc0ac\uc6a9 \uac00\ub2a5\ud55c \ub0b4\uc7a5 \ud568\uc218\ub4e4\uc744 \uc81c\uacf5\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. \uc544\uc9c1 \uc0c8\ub85c\uc6b4 \ud328\ud134\uc774 \uac1c\ubc1c \uc911\uc5d0 \uc788\uace0 \uc0c8\ub85c\uc6b4 API\uac00 \ucd94\uac00\ub420 \uc218 \uc788\uc74c\uc744 \uc54c\uace0 \uc788\uc5b4\uc57c \ud569\ub2c8\ub2e4."),(0,r.kt)("h3",{id:"form-actions"},"Form Actions"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"#actions"},"Actions"),"\ub294 \uc6f9 \ud45c\uc900 ",(0,r.kt)("inlineCode",{parentName:"p"},"<form>"),"API\uc5d0 \ub9de\uac8c \ud655\uc7a5\ub418\uc5c8\uace0, \uc989\uc2dc \uc2e4\ud589\ub418\ub294 \uc810\uc9c4\uc801 \ud5a5\uc0c1\uacfc ",(0,r.kt)("a",{parentName:"p",href:"#experimental-useformstatus"},"\ub85c\ub529 \uc0c1\ud0dc"),"\ub97c \uac00\ub2a5\ud558\uac8c \ud574\uc90d\ub2c8\ub2e4. \uc774\ub294 HTML \uc6d0\uc2dc \uc694\uc18c\uc778 ",(0,r.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#formaction"},(0,r.kt)("inlineCode",{parentName:"a"},"formaction")),"\uc640 \uc720\uc0ac\ud558\uac8c \ub3d9\uc791\ud569\ub2c8\ub2e4."),(0,r.kt)("h3",{id:"server-functions"},"Server Functions"),(0,r.kt)("p",null,"\uc11c\ubc84 \ub2e8\uc5d0\uc11c \ub3d9\uc791\ud558\uba70, \ud074\ub77c\uc774\uc5b8\ud2b8 \ub2e8\uc5d0\uc11c \ud638\ucd9c\ub420 \uc218 \uc5c6\ub294 \ud568\uc218\uc785\ub2c8\ub2e4."),(0,r.kt)("h3",{id:"server-actions"},"Server Actions"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"#server-functions"},"Server Functions"),"\uc740 action\uc73c\ub85c \ubd88\ub9bd\ub2c8\ub2e4."),(0,r.kt)("p",null,"Server Actions\ub294 ",(0,r.kt)("a",{parentName:"p",href:"#invocation"},(0,r.kt)("inlineCode",{parentName:"a"},"form")," \uc694\uc18c\uc758",(0,r.kt)("inlineCode",{parentName:"a"},"action")," \uc18d\uc131"),"\uc744 \ud1b5\ud574 \uc810\uc9c4\uc801\uc73c\ub85c \ud5a5\uc0c1\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774 form\uc740 \ud074\ub77c\uc774\uc5b8\ud2b8 \ub2e8\uc758 Javascript\uac00 \ub85c\ub529\ub418\uae30 \uc804\uc5d0 \uc791\ub3d9\ud569\ub2c8\ub2e4. \uc774\ub294 \uc774 form\uc758 \uc81c\ucd9c\uc5d0 \ub9ac\uc561\ud2b8\uc758 \uc218\ud654\uac00 \ud544\uc694\ud558\uc9c0 \uc54a\uc74c\uc744 \ub73b\ud569\ub2c8\ub2e4."),(0,r.kt)("h3",{id:"server-mutations"},"Server Mutations"),(0,r.kt)("p",null,"\ub370\uc774\ud130\ub97c \ubcc0\uacbd\ud558\uace0 ",(0,r.kt)("inlineCode",{parentName:"p"},"redirect"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"revalidatePath"),", \ud639\uc740 ",(0,r.kt)("inlineCode",{parentName:"p"},"revalidateTag"),"\ub97c \ud638\ucd9c\ud558\ub294 ",(0,r.kt)("a",{parentName:"p",href:"#server-actions"},"Server Actions"),"\uc744 \ub9d0\ud569\ub2c8\ub2e4."))),(0,r.kt)("h2",{id:"\uc608\uc2dc"},"\uc608\uc2dc"),(0,r.kt)("h3",{id:"server-only-forms"},"Server-only Forms"),(0,r.kt)("p",null,"\ud398\uc774\uc9c0 \ub77c\uc6b0\ud130\ub97c \uc0ac\uc6a9\ud558\uba74 \uc11c\ubc84\uc5d0\uc11c \uc548\uc804\ud558\uac8c \ubcc0\uacbd\ub418\ub294 \ub370\uc774\ud130\ub97c \ucc98\ub9ac\ud558\uae30 \uc704\ud574 API \uc5d4\ub4dc\ud3ec\uc778\ud2b8\ub97c \uc218\ub3d9\uc73c\ub85c \uc0dd\uc131\ud574\uc57c \ud569\ub2c8\ub2e4."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:'filename="pages/api/submit.ts" switcher',filename:'"pages/api/submit.ts"',switcher:!0},"import type { NextApiRequest, NextApiResponse } from 'next'\n\nexport default async function handler(\n  req: NextApiRequest,\n  res: NextApiResponse\n) {\n  const data = req.body\n  const id = await createItem(data)\n  res.status(200).json({ id })\n}\n")),(0,r.kt)("p",null,"\uadf8\ub7f0 \ub2e4\uc74c \uc774\ubca4\ud2b8 \ud578\ub4e4\ub7ec\ub97c \uc0ac\uc6a9\ud558\uc5ec \ud074\ub77c\uc774\uc5b8\ud2b8\uc5d0\uc11c API Route\ub97c \ud638\ucd9c\ud569\ub2c8\ub2e4:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'filename="pages/index.tsx" switcher',filename:'"pages/index.tsx"',switcher:!0},"import { FormEvent } from 'react'\n\nexport default function Page() {\n  async function onSubmit(event: FormEvent<HTMLFormElement>) {\n    event.preventDefault()\n\n    const formData = new FormData(event.currentTarget)\n    const response = await fetch('/api/submit', {\n      method: 'POST',\n      body: formData,\n    })\n\n    // \ud544\uc694\ud558\uba74 response \ud578\ub4e4\ub9c1\n    const data = await response.json()\n    // ...\n  }\n\n  return (\n    <form onSubmit={onSubmit}>\n      <input type=\"text\" name=\"name\" />\n      <button type=\"submit\">Submit</button>\n    </form>\n  )\n}\n")),(0,r.kt)("h3",{id:"redirecting"},"Redirecting"),(0,r.kt)("p",null,"If you would like to redirect the user to a different route after a mutation, you can ",(0,r.kt)("a",{parentName:"p",href:"https://nextjs.org/docs/pages/building-your-application/routing/api-routes#response-helpers"},(0,r.kt)("inlineCode",{parentName:"a"},"redirect"))," to any absolute or relative URL:"),(0,r.kt)("p",null,"Mutation \ud6c4 \uc0ac\uc6a9\uc790\ub97c \ub2e4\ub978 \uacbd\ub85c\ub85c ",(0,r.kt)("a",{parentName:"p",href:"https://nextjs.org/docs/pages/building-your-application/routing/api-routes#response-helpers"},(0,r.kt)("inlineCode",{parentName:"a"},"\ub9ac\ub514\ub809\uc158")),"\ud558\ub824\ub294 \uacbd\uc6b0 \uc808\ub300 \ub610\ub294 \uc0c1\ub300 URL\ub85c \ub9ac\ub514\ub809\uc158\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:'filename="pages/api/submit.ts" switcher',filename:'"pages/api/submit.ts"',switcher:!0},"import type { NextApiRequest, NextApiResponse } from 'next'\n\nexport default async function handler(\n  req: NextApiRequest,\n  res: NextApiResponse\n) {\n  const id = await addPost()\n  res.redirect(307, `/post/${id}`)\n}\n")),(0,r.kt)("h3",{id:"form-validation"},"Form Validation"),(0,r.kt)("p",null,"\uae30\ubcf8 \uc591\uc2dd \uc720\ud6a8\uc131 \uac80\uc0ac\uc5d0\ub294 ",(0,r.kt)("inlineCode",{parentName:"p"},"required")," \ubc0f ",(0,r.kt)("inlineCode",{parentName:"p"},'type="email"'),"\uacfc \uac19\uc740 HTML \uc720\ud6a8\uc131 \uac80\uc0ac\ub97c \uc0ac\uc6a9\ud558\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4."),(0,r.kt)("p",null,"\ud5a5\uc0c1\ub41c server-side validation\uc758 \uacbd\uc6b0 ",(0,r.kt)("a",{parentName:"p",href:"https://zod.dev/"},"zod"),"\uc640 \uac19\uc740 \uc2a4\ud0a4\ub9c8 validation \ub77c\uc774\ube0c\ub7ec\ub9ac\ub97c \uc0ac\uc6a9\ud558\uc5ec \uad6c\ubb38 \ubd84\uc11d\ub41c \uc591\uc2dd \ub370\uc774\ud130\uc758 \uad6c\uc870\ub97c \uc720\ud6a8\uc131 \uac80\uc0ac\ud569\ub2c8\ub2e4:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:'filename="pages/api/submit.ts" switcher',filename:'"pages/api/submit.ts"',switcher:!0},"import type { NextApiRequest, NextApiResponse } from 'next'\nimport { z } from 'zod'\n\n// \uc6b0\ub9ac\uac00 joi\ub85c \ud558\ub4ef\uc774\nconst schema = z.object({\n  // ...\n})\n\nexport default async function handler(\n  req: NextApiRequest,\n  res: NextApiResponse\n) {\n  const parsed = schema.parse(req.body)\n  // ...\n}\n")),(0,r.kt)("h3",{id:"displaying-loading-state"},"Displaying Loading State"),(0,r.kt)("p",null,"\uc11c\ubc84\uc5d0\uc11c Form\uc774 \uc81c\ucd9c\ub420 \ub54c React state\ub97c \uc0ac\uc6a9\ud558\uc5ec \ub85c\ub529 \uc0c1\ud0dc\ub97c \ud45c\uc2dc\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'filename="pages/index.tsx" switcher',filename:'"pages/index.tsx"',switcher:!0},"import React, { useState, FormEvent } from 'react'\n\nexport default function Page() {\n  const [isLoading, setIsLoading] = useState<boolean>(false)\n\n  async function onSubmit(event: FormEvent<HTMLFormElement>) {\n    event.preventDefault()\n    setIsLoading(true) // \uc694\uccad\uc774 \uc2dc\uc791\ub420 \ub54c \ub85c\ub529\uc744 true\ub85c \uc124\uc815\n\n    try {\n      const formData = new FormData(event.currentTarget)\n      const response = await fetch('/api/submit', {\n        method: 'POST',\n        body: formData,\n      })\n\n      // \ud544\uc694\ud55c \uacbd\uc6b0 \uc751\ub2f5 \ucc98\ub9ac\n      const data = await response.json()\n      // ...\n    } catch (error) {\n      // \ud544\uc694\ud55c \uacbd\uc6b0 \uc5d0\ub7ec \ucc98\ub9ac\n      console.error(error)\n    } finally {\n      setIsLoading(false) // \uc694\uccad\uc774 \uc644\ub8cc\ub418\uba74 \ub85c\ub529\uc744 false\ub85c \uc124\uc815\ud569\ub2c8\ub2e4.\n    }\n  }\n\n  return (\n    <form onSubmit={onSubmit}>\n      <input type=\"text\" name=\"name\" />\n      <button type=\"submit\" disabled={isLoading}>\n        {isLoading ? 'Loading...' : 'Submit'}\n      </button>\n    </form>\n  )\n}\n")),(0,r.kt)("h3",{id:"error-handling"},"Error Handling"),(0,r.kt)("p",null,"React state\ub97c \uc0ac\uc6a9\ud558\uc5ec Form \uc81c\ucd9c\uc774 \uc2e4\ud328\ud560 \ub54c \uc624\ub958 \uba54\uc2dc\uc9c0\ub97c \ud45c\uc2dc\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'filename="pages/index.tsx" switcher',filename:'"pages/index.tsx"',switcher:!0},"import React, { useState, FormEvent } from 'react'\n\nexport default function Page() {\n  const [isLoading, setIsLoading] = useState<boolean>(false)\n  const [error, setError] = useState<string | null>(null)\n\n  async function onSubmit(event: FormEvent<HTMLFormElement>) {\n    event.preventDefault()\n    setIsLoading(true)\n    setError(null) // \uc0c8 \uc694\uccad\uc774 \uc2dc\uc791\ub420 \ub54c \uc774\uc804 \uc624\ub958 \uc9c0\uc6b0\uae30\n\n    try {\n      const formData = new FormData(event.currentTarget)\n      const response = await fetch('/api/submit', {\n        method: 'POST',\n        body: formData,\n      })\n\n      if (!response.ok) {\n        throw new Error('Failed to submit the data. Please try again.')\n      }\n\n      // \ud544\uc694\ud55c \uacbd\uc6b0 \uc751\ub2f5 \ucc98\ub9ac\n      const data = await response.json()\n      // ...\n    } catch (error) {\n      // \uc0ac\uc6a9\uc790\uc5d0\uac8c \ud45c\uc2dc\ud560 \uc624\ub958 \uba54\uc2dc\uc9c0\ub97c \ucea1\ucc98\ud558\uae30\n      setError(error.message)\n      console.error(error)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <div>\n      {error && <div style={{ color: 'red' }}>{error}</div>}\n      <form onSubmit={onSubmit}>\n        <input type=\"text\" name=\"name\" />\n        <button type=\"submit\" disabled={isLoading}>\n          {isLoading ? 'Loading...' : 'Submit'}\n        </button>\n      </form>\n    </div>\n  )\n}\n")),(0,r.kt)("h3",{id:"setting-cookies"},"Setting Cookies"),(0,r.kt)("p",null,"response\uc758 ",(0,r.kt)("inlineCode",{parentName:"p"},"setHeader")," \uba54\uc11c\ub4dc\ub97c \uc0ac\uc6a9\ud558\uc5ec API Route \ub0b4\uc5d0\uc11c \ucfe0\ud0a4\ub97c \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:'filename="pages/api/cookie.ts" switcher',filename:'"pages/api/cookie.ts"',switcher:!0},"import type { NextApiRequest, NextApiResponse } from 'next'\n\nexport default async function handler(\n  req: NextApiRequest,\n  res: NextApiResponse\n) {\n  res.setHeader('Set-Cookie', 'username=lee; Path=/; HttpOnly')\n  res.status(200).send('Cookie has been set.')\n}\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'filename="pages/api/cookie.js" switcher',filename:'"pages/api/cookie.js"',switcher:!0},"export default async function handler(req, res) {\n  res.setHeader('Set-Cookie', 'username=lee; Path=/; HttpOnly')\n  // Access-Control-Expose-Headers (CORS\uc751\ub2f5 \ud5e4\ub354\uc5d0 \ud3ec\ud568\ub418\uc9c0 \uc54a\uc740 \uc815\ubcf4\ub97c \ud074\ub77c\uc774\uc5b8\ud2b8\uac00 \uc5d1\uc138\uc2a4 \ud560 \uc218 \uc788\uac8c \ud558\uae30 \uc704\ud55c \uc635\uc158)\n  res.status(200).send('Cookie has been set.')\n}\n")),(0,r.kt)("h3",{id:"reading-cookies"},"Reading Cookies"),(0,r.kt)("p",null,"cookies request helper\ub97c \uc0ac\uc6a9\ud558\uc5ec API Route \ub0b4\uc5d0\uc11c ",(0,r.kt)("a",{parentName:"p",href:"https://nextjs.org/docs/pages/building-your-application/routing/api-routes#request-helpers"},(0,r.kt)("inlineCode",{parentName:"a"},"\ucfe0\ud0a4")),"\ub97c \uc77d\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:'filename="pages/api/cookie.ts" switcher',filename:'"pages/api/cookie.ts"',switcher:!0},"import type { NextApiRequest, NextApiResponse } from 'next'\n\nexport default async function handler(\n  req: NextApiRequest,\n  res: NextApiResponse\n) {\n  const auth = req.cookies.authorization\n  // ...\n}\n")),(0,r.kt)("h3",{id:"deleting-cookies"},"Deleting Cookies"),(0,r.kt)("p",null,"esponse\uc758 setHeader \uba54\uc11c\ub4dc\ub97c \uc0ac\uc6a9\ud558\uc5ec API Route \ub0b4\uc5d0\uc11c \ucfe0\ud0a4\ub97c \uc0ad\uc81c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:'filename="pages/api/cookie.ts" switcher',filename:'"pages/api/cookie.ts"',switcher:!0},"import type { NextApiRequest, NextApiResponse } from 'next'\n\nexport default async function handler(\n  req: NextApiRequest,\n  res: NextApiResponse\n) {\n  res.setHeader('Set-Cookie', 'username=; Path=/; HttpOnly; Max-Age=0')\n  res.status(200).send('Cookie has been deleted.')\n}\n")))}d.isMDXComponent=!0}}]);