"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[50],{3905:(e,t,o)=>{o.d(t,{Zo:()=>c,kt:()=>f});var r=o(7294);function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function n(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t){if(null==e)return{};var o,r,a=function(e,t){if(null==e)return{};var o,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)o=i[r],t.indexOf(o)>=0||(a[o]=e[o]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)o=i[r],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}var p=r.createContext({}),s=function(e){var t=r.useContext(p),o=t;return e&&(o="function"==typeof e?e(t):n(n({},t),e)),o},c=function(e){var t=s(e.components);return r.createElement(p.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},g=r.forwardRef((function(e,t){var o=e.components,a=e.mdxType,i=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=s(o),g=a,f=u["".concat(p,".").concat(g)]||u[g]||d[g]||i;return o?r.createElement(f,n(n({ref:t},c),{},{components:o})):r.createElement(f,n({ref:t},c))}));function f(e,t){var o=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=o.length,n=new Array(i);n[0]=g;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[u]="string"==typeof e?e:a,n[1]=l;for(var s=2;s<i;s++)n[s]=o[s];return r.createElement.apply(null,n)}return r.createElement.apply(null,o)}g.displayName="MDXCreateElement"},117:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>p,contentTitle:()=>n,default:()=>f,frontMatter:()=>i,metadata:()=>l,toc:()=>s});var r=o(7462),a=(o(7294),o(3905));const i={sidebar_position:12,title:"Project Organization and File Colocation",sidebar_label:"Project Organization",description:"Learn how to organize your Next.js project and colocate files.",related:{links:["app/building-your-application/routing/defining-routes","app/building-your-application/routing/route-groups","app/building-your-application/configuring/src-directory","app/building-your-application/configuring/absolute-imports-and-module-aliases"]}},n=void 0,l={unversionedId:"app/building-your-application/routing/colocation",id:"app/building-your-application/routing/colocation",title:"Project Organization and File Colocation",description:"Learn how to organize your Next.js project and colocate files.",source:"@site/docs/02-app/01-building-your-application/01-routing/12-colocation.mdx",sourceDirName:"02-app/01-building-your-application/01-routing",slug:"/app/building-your-application/routing/colocation",permalink:"/docs/app/building-your-application/routing/colocation",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/02-app/01-building-your-application/01-routing/12-colocation.mdx",tags:[],version:"current",sidebarPosition:12,frontMatter:{sidebar_position:12,title:"Project Organization and File Colocation",sidebar_label:"Project Organization",description:"Learn how to organize your Next.js project and colocate files.",related:{links:["app/building-your-application/routing/defining-routes","app/building-your-application/routing/route-groups","app/building-your-application/configuring/src-directory","app/building-your-application/configuring/absolute-imports-and-module-aliases"]}},sidebar:"tutorialSidebar",previous:{title:"Middleware",permalink:"/docs/app/building-your-application/routing/middleware"},next:{title:"Internationalization",permalink:"/docs/app/building-your-application/routing/internationalization"}},p={},s=[{value:"Safe colocation by default",id:"safe-colocation-by-default",level:2},{value:"Project organization features",id:"project-organization-features",level:2},{value:"Private Folders",id:"private-folders",level:3},{value:"Route Groups",id:"route-groups",level:3},{value:"<code>src</code> Directory",id:"src-directory",level:3},{value:"Module Path Aliases",id:"module-path-aliases",level:3},{value:"Project organization strategies",id:"project-organization-strategies",level:2},{value:"Store project files outside of <code>app</code>",id:"store-project-files-outside-of-app",level:3},{value:"Store project files in top-level folders inside of <code>app</code>",id:"store-project-files-in-top-level-folders-inside-of-app",level:3},{value:"Split project files by feature or route",id:"split-project-files-by-feature-or-route",level:3}],c=(u="Image",function(e){return console.warn("Component "+u+" was not imported, exported, or provided by MDXProvider as global scope"),(0,a.kt)("div",e)});var u;const d={toc:s},g="wrapper";function f(e){let{components:t,...o}=e;return(0,a.kt)(g,(0,r.Z)({},d,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Apart from ",(0,a.kt)("a",{parentName:"p",href:"/docs/getting-started/project-structure#app-routing-conventions"},"routing folder and file conventions"),", Next.js is ",(0,a.kt)("strong",{parentName:"p"},"unopinionated")," about how you organize and colocate your project files."),(0,a.kt)("p",null,"This page shares default behavior and features you can use to organize your project."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#safe-colocation-by-default"},"Safe colocation by default")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#project-organization-features"},"Project organization features")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#project-organization-strategies"},"Project organization strategies"))),(0,a.kt)("h2",{id:"safe-colocation-by-default"},"Safe colocation by default"),(0,a.kt)("p",null,"In the ",(0,a.kt)("inlineCode",{parentName:"p"},"app")," directory, ",(0,a.kt)("a",{parentName:"p",href:"/docs/app/building-your-application/routing#route-segments"},"nested folder hierarchy")," defines route structure."),(0,a.kt)("p",null,"Each folder represents a route segment that is mapped to a corresponding segment in a URL path."),(0,a.kt)("p",null,"However, even though route structure is defined through folders, a route is ",(0,a.kt)("strong",{parentName:"p"},"not publicly accessible")," until a ",(0,a.kt)("inlineCode",{parentName:"p"},"page.js")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"route.js")," file is added to a route segment."),(0,a.kt)(c,{alt:"A diagram showing how a route is not publicly accessible until a page.js or route.js file is added to a route segment.",srcLight:"/docs/light/project-organization-not-routable.png",srcDark:"/docs/dark/project-organization-not-routable.png",width:"1600",height:"444",mdxType:"Image"}),(0,a.kt)("p",null,"And, even when a route is made publicly accessible, only the ",(0,a.kt)("strong",{parentName:"p"},"content returned")," by ",(0,a.kt)("inlineCode",{parentName:"p"},"page.js")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"route.js")," is sent to the client."),(0,a.kt)(c,{alt:"A diagram showing how page.js and route.js files make routes publicly accessible.",srcLight:"/docs/light/project-organization-routable.png",srcDark:"/docs/dark/project-organization-routable.png",width:"1600",height:"687",mdxType:"Image"}),(0,a.kt)("p",null,"This means that ",(0,a.kt)("strong",{parentName:"p"},"project files")," can be ",(0,a.kt)("strong",{parentName:"p"},"safely colocated")," inside route segments in the ",(0,a.kt)("inlineCode",{parentName:"p"},"app")," directory without accidentally being routable."),(0,a.kt)(c,{alt:"A diagram showing colocated project files are not routable even when a segment contains a page.js or route.js file.",srcLight:"/docs/light/project-organization-colocation.png",srcDark:"/docs/dark/project-organization-colocation.png",width:"1600",height:"1011",mdxType:"Image"}),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("strong",{parentName:"p"},"Good to know"),":"),(0,a.kt)("ul",{parentName:"blockquote"},(0,a.kt)("li",{parentName:"ul"},"This is different from the ",(0,a.kt)("inlineCode",{parentName:"li"},"pages")," directory, where any file in ",(0,a.kt)("inlineCode",{parentName:"li"},"pages")," is considered a route."),(0,a.kt)("li",{parentName:"ul"},"While you ",(0,a.kt)("strong",{parentName:"li"},"can")," colocate your project files in ",(0,a.kt)("inlineCode",{parentName:"li"},"app")," you don't ",(0,a.kt)("strong",{parentName:"li"},"have")," to. If you prefer, you can ",(0,a.kt)("a",{parentName:"li",href:"#store-project-files-outside-of-app"},"keep them outside the ",(0,a.kt)("inlineCode",{parentName:"a"},"app")," directory"),"."))),(0,a.kt)("h2",{id:"project-organization-features"},"Project organization features"),(0,a.kt)("p",null,"Next.js provides several features to help you organize your project."),(0,a.kt)("h3",{id:"private-folders"},"Private Folders"),(0,a.kt)("p",null,"Private folders can be created by prefixing a folder with an underscore: ",(0,a.kt)("inlineCode",{parentName:"p"},"_folderName")),(0,a.kt)("p",null,"This indicates the folder is a private implementation detail and should not be considered by the routing system, thereby ",(0,a.kt)("strong",{parentName:"p"},"opting the folder and all its subfolders")," out of routing."),(0,a.kt)(c,{alt:"An example folder structure using private folders",srcLight:"/docs/light/project-organization-private-folders.png",srcDark:"/docs/dark/project-organization-private-folders.png",width:"1600",height:"849",mdxType:"Image"}),(0,a.kt)("p",null,"Since files in the ",(0,a.kt)("inlineCode",{parentName:"p"},"app")," directory can be ",(0,a.kt)("a",{parentName:"p",href:"#safe-colocation-by-default"},"safely colocated by default"),", private folders are not required for colocation. However, they can be useful for:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Separating UI logic from routing logic."),(0,a.kt)("li",{parentName:"ul"},"Consistently organizing internal files across a project and the Next.js ecosystem."),(0,a.kt)("li",{parentName:"ul"},"Sorting and grouping files in code editors."),(0,a.kt)("li",{parentName:"ul"},"Avoiding potential naming conflicts with future Next.js file conventions.")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("strong",{parentName:"p"},"Good to know")),(0,a.kt)("ul",{parentName:"blockquote"},(0,a.kt)("li",{parentName:"ul"},'While not a framework convention, you might also consider marking files outside private folders as "private" using the same underscore pattern.'),(0,a.kt)("li",{parentName:"ul"},"You can create URL segments that start with an underscore by prefixing the folder name with ",(0,a.kt)("inlineCode",{parentName:"li"},"%5F")," (the URL-encoded form of an underscore): ",(0,a.kt)("inlineCode",{parentName:"li"},"%5FfolderName"),"."),(0,a.kt)("li",{parentName:"ul"},"If you don't use private folders, it would be helpful to know Next.js ",(0,a.kt)("a",{parentName:"li",href:"/docs/getting-started/project-structure#routing-files"},"special file conventions")," to prevent unexpected naming conflicts."))),(0,a.kt)("h3",{id:"route-groups"},"Route Groups"),(0,a.kt)("p",null,"Route groups can be created by wrapping a folder in parenthesis: ",(0,a.kt)("inlineCode",{parentName:"p"},"(folderName)")),(0,a.kt)("p",null,"This indicates the folder is for organizational purposes and should ",(0,a.kt)("strong",{parentName:"p"},"not be included")," in the route's URL path."),(0,a.kt)(c,{alt:"An example folder structure using route groups",srcLight:"/docs/light/project-organization-route-groups.png",srcDark:"/docs/dark/project-organization-route-groups.png",width:"1600",height:"849",mdxType:"Image"}),(0,a.kt)("p",null,"Route groups are useful for:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/docs/app/building-your-application/routing/route-groups#organize-routes-without-affecting-the-url-path"},"Organizing routes into groups")," e.g. by site section, intent, or team."),(0,a.kt)("li",{parentName:"ul"},"Enabling nested layouts in the same route segment level:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/docs/app/building-your-application/routing/route-groups#creating-multiple-root-layouts"},"Creating multiple nested layouts in the same segment, including multiple root layouts")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/docs/app/building-your-application/routing/route-groups#opting-specific-segments-into-a-layout"},"Adding a layout to a subset of routes in a common segment"))))),(0,a.kt)("h3",{id:"src-directory"},(0,a.kt)("inlineCode",{parentName:"h3"},"src")," Directory"),(0,a.kt)("p",null,"Next.js supports storing application code (including ",(0,a.kt)("inlineCode",{parentName:"p"},"app"),") inside an optional ",(0,a.kt)("a",{parentName:"p",href:"/docs/app/building-your-application/configuring/src-directory"},(0,a.kt)("inlineCode",{parentName:"a"},"src")," directory"),". This separates application code from project configuration files which mostly live in the root of a project."),(0,a.kt)(c,{alt:"An example folder structure with the `src` directory",srcLight:"/docs/light/project-organization-src-directory.png",srcDark:"/docs/dark/project-organization-src-directory.png",width:"1600",height:"687",mdxType:"Image"}),(0,a.kt)("h3",{id:"module-path-aliases"},"Module Path Aliases"),(0,a.kt)("p",null,"Next.js supports ",(0,a.kt)("a",{parentName:"p",href:"/docs/app/building-your-application/configuring/absolute-imports-and-module-aliases"},"Module Path Aliases")," which make it easier to read and maintain imports across deeply nested project files."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'filename="app/dashboard/settings/analytics/page.js"',filename:'"app/dashboard/settings/analytics/page.js"'},'// before\nimport { Button } from "../../../components/button";\n\n// after\nimport { Button } from "@/components/button";\n')),(0,a.kt)("h2",{id:"project-organization-strategies"},"Project organization strategies"),(0,a.kt)("p",null,'There is no "right" or "wrong" way when it comes to organizing your own files and folders in a Next.js project.'),(0,a.kt)("p",null,"The following section lists a very high-level overview of common strategies. The simplest takeaway is to choose a strategy that works for you and your team and be consistent across the project."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("strong",{parentName:"p"},"Good to know"),": In our examples below, we're using ",(0,a.kt)("inlineCode",{parentName:"p"},"components")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"lib")," folders as generalized placeholders, their naming has no special framework significance and your projects might use other folders like ",(0,a.kt)("inlineCode",{parentName:"p"},"ui"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"utils"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"hooks"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"styles"),", etc.")),(0,a.kt)("h3",{id:"store-project-files-outside-of-app"},"Store project files outside of ",(0,a.kt)("inlineCode",{parentName:"h3"},"app")),(0,a.kt)("p",null,"This strategy stores all application code in shared folders in the ",(0,a.kt)("strong",{parentName:"p"},"root of your project")," and keeps the ",(0,a.kt)("inlineCode",{parentName:"p"},"app")," directory purely for routing purposes."),(0,a.kt)(c,{alt:"An example folder structure with project files outside of app",srcLight:"/docs/light/project-organization-project-root.png",srcDark:"/docs/dark/project-organization-project-root.png",width:"1600",height:"849",mdxType:"Image"}),(0,a.kt)("h3",{id:"store-project-files-in-top-level-folders-inside-of-app"},"Store project files in top-level folders inside of ",(0,a.kt)("inlineCode",{parentName:"h3"},"app")),(0,a.kt)("p",null,"This strategy stores all application code in shared folders in the ",(0,a.kt)("strong",{parentName:"p"},"root of the ",(0,a.kt)("inlineCode",{parentName:"strong"},"app")," directory"),"."),(0,a.kt)(c,{alt:"An example folder structure with project files inside app",srcLight:"/docs/light/project-organization-app-root.png",srcDark:"/docs/dark/project-organization-app-root.png",width:"1600",height:"849",mdxType:"Image"}),(0,a.kt)("h3",{id:"split-project-files-by-feature-or-route"},"Split project files by feature or route"),(0,a.kt)("p",null,"This strategy stores globally shared application code in the root ",(0,a.kt)("inlineCode",{parentName:"p"},"app")," directory and ",(0,a.kt)("strong",{parentName:"p"},"splits")," more specific application code into the route segments that use them."),(0,a.kt)(c,{alt:"An example folder structure with project files split by feature or route",srcLight:"/docs/light/project-organization-app-root-split.png",srcDark:"/docs/dark/project-organization-app-root-split.png",width:"1600",height:"1011",mdxType:"Image"}))}f.isMDXComponent=!0}}]);