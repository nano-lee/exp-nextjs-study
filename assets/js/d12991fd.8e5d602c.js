"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[6946],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>m});var r=t(7294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=r.createContext({}),l=function(e){var n=r.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},p=function(e){var n=l(e.components);return r.createElement(s.Provider,{value:n},e.children)},f="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),f=l(t),d=o,m=f["".concat(s,".").concat(d)]||f[d]||u[d]||a;return t?r.createElement(m,i(i({ref:n},p),{},{components:t})):r.createElement(m,i({ref:n},p))}));function m(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=t.length,i=new Array(a);i[0]=d;var c={};for(var s in n)hasOwnProperty.call(n,s)&&(c[s]=n[s]);c.originalType=e,c[f]="string"==typeof e?e:o,i[1]=c;for(var l=2;l<a;l++)i[l]=t[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},2991:(e,n,t)=>{t.d(n,{Z:()=>h});var r=t(7294),o=t(6010),a=t(2802),i=t(9960),c=t(3919),s=t(5999);const l={cardContainer:"cardContainer_fWXF",cardTitle:"cardTitle_rnsV",cardDescription:"cardDescription_PWke"};function p(e){let{href:n,children:t}=e;return r.createElement(i.Z,{href:n,className:(0,o.Z)("card padding--lg",l.cardContainer)},t)}function f(e){let{href:n,icon:t,title:a,description:i}=e;return r.createElement(p,{href:n},r.createElement("h2",{className:(0,o.Z)("text--truncate",l.cardTitle),title:a},t," ",a),i&&r.createElement("p",{className:(0,o.Z)("text--truncate",l.cardDescription),title:i},i))}function u(e){let{item:n}=e;const t=(0,a.Wl)(n);return t?r.createElement(f,{href:t,icon:"\ud83d\uddc3\ufe0f",title:n.label,description:n.description??(0,s.I)({message:"{count} items",id:"theme.docs.DocCard.categoryDescription",description:"The default description for a category card in the generated index about how many items this category includes"},{count:n.items.length})}):null}function d(e){let{item:n}=e;const t=(0,c.Z)(n.href)?"\ud83d\udcc4\ufe0f":"\ud83d\udd17",o=(0,a.xz)(n.docId??void 0);return r.createElement(f,{href:n.href,icon:t,title:n.label,description:n.description??o?.description})}function m(e){let{item:n}=e;switch(n.type){case"link":return r.createElement(d,{item:n});case"category":return r.createElement(u,{item:n});default:throw new Error(`unknown item type ${JSON.stringify(n)}`)}}function g(e){let{className:n}=e;const t=(0,a.jA)();return r.createElement(h,{items:t.items,className:n})}function h(e){const{items:n,className:t}=e;if(!n)return r.createElement(g,e);const i=(0,a.MN)(n);return r.createElement("section",{className:(0,o.Z)("row",t)},i.map(((e,n)=>r.createElement("article",{key:n,className:"col col--6 margin-bottom--lg"},r.createElement(m,{item:e})))))}},2162:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var r=t(7462),o=(t(7294),t(3905)),a=t(2991);const i={title:"next.config.js Options",description:"Learn how to configure your application with next.config.js."},c=void 0,s={unversionedId:"app/api-reference/next-config-js/index",id:"app/api-reference/next-config-js/index",title:"next.config.js Options",description:"Learn how to configure your application with next.config.js.",source:"@site/docs/02-app/02-api-reference/05-next-config-js/index.mdx",sourceDirName:"02-app/02-api-reference/05-next-config-js",slug:"/app/api-reference/next-config-js/",permalink:"/docs/app/api-reference/next-config-js/",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/02-app/02-api-reference/05-next-config-js/index.mdx",tags:[],version:"current",frontMatter:{title:"next.config.js Options",description:"Learn how to configure your application with next.config.js."},sidebar:"nextJsSidebar",previous:{title:"useSelectedLayoutSegments",permalink:"/docs/app/api-reference/functions/use-selected-layout-segments"},next:{title:"appDir",permalink:"/docs/app/api-reference/next-config-js/appDir"}},l={},p=[],f={toc:p},u="wrapper";function d(e){let{components:n,...t}=e;return(0,o.kt)(u,(0,r.Z)({},f,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Next.js can be configured through a ",(0,o.kt)("inlineCode",{parentName:"p"},"next.config.js")," file in the root of your project directory (for example, by ",(0,o.kt)("inlineCode",{parentName:"p"},"package.json"),")."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'filename="next.config.js"',filename:'"next.config.js"'},"/** @type {import('next').NextConfig} */\nconst nextConfig = {\n    /* config options here */\n};\n\nmodule.exports = nextConfig;\n")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"next.config.js")," is a regular Node.js module, not a JSON file. It gets used by the Next.js server and build phases, and it's not included in the browser build."),(0,o.kt)("p",null,"If you need ",(0,o.kt)("a",{parentName:"p",href:"https://nodejs.org/api/esm.html"},"ECMAScript modules"),", you can use ",(0,o.kt)("inlineCode",{parentName:"p"},"next.config.mjs"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'filename="next.config.mjs"',filename:'"next.config.mjs"'},"/**\n * @type {import('next').NextConfig}\n */\nconst nextConfig = {\n    /* config options here */\n};\n\nexport default nextConfig;\n")),(0,o.kt)("p",null,"You can also use a function:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'filename="next.config.mjs"',filename:'"next.config.mjs"'},"export default (phase, { defaultConfig }) => {\n    /**\n     * @type {import('next').NextConfig}\n     */\n    const nextConfig = {\n        /* config options here */\n    };\n    return nextConfig;\n};\n")),(0,o.kt)("p",null,"Since Next.js 12.1.0, you can use an async function:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'filename="next.config.js"',filename:'"next.config.js"'},"module.exports = async (phase, { defaultConfig }) => {\n    /**\n     * @type {import('next').NextConfig}\n     */\n    const nextConfig = {\n        /* config options here */\n    };\n    return nextConfig;\n};\n")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"phase")," is the current context in which the configuration is loaded. You can see the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/vercel/next.js/blob/5e6b008b561caf2710ab7be63320a3d549474a5b/packages/next/shared/lib/constants.ts#L19-L23"},"available phases"),". Phases can be imported from ",(0,o.kt)("inlineCode",{parentName:"p"},"next/constants"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'const { PHASE_DEVELOPMENT_SERVER } = require("next/constants");\n\nmodule.exports = (phase, { defaultConfig }) => {\n    if (phase === PHASE_DEVELOPMENT_SERVER) {\n        return {\n            /* development only config options here */\n        };\n    }\n\n    return {\n        /* config options for all phases except development here */\n    };\n};\n')),(0,o.kt)("p",null,"The commented lines are the place where you can put the configs allowed by ",(0,o.kt)("inlineCode",{parentName:"p"},"next.config.js"),", which are ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/vercel/next.js/blob/canary/packages/next/src/server/config-shared.ts"},"defined in this file"),"."),(0,o.kt)("p",null,"However, none of the configs are required, and it's not necessary to understand what each config does. Instead, search for the features you need to enable or modify in this section and they will show you what to do."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Avoid using new JavaScript features not available in your target Node.js version. ",(0,o.kt)("inlineCode",{parentName:"p"},"next.config.js")," will not be parsed by Webpack, Babel or TypeScript.")),(0,o.kt)("p",null,"This page documents all the available configuration options:"),(0,o.kt)(a.Z,{mdxType:"DocCardList"}))}d.isMDXComponent=!0}}]);