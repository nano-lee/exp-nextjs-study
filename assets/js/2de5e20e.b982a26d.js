"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[7088],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>g});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,p=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),u=s(n),m=r,g=u["".concat(p,".").concat(m)]||u[m]||c[m]||o;return n?a.createElement(g,i(i({ref:t},d),{},{components:n})):a.createElement(g,i({ref:t},d))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[u]="string"==typeof e?e:r,i[1]=l;for(var s=2;s<o;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},2991:(e,t,n)=>{n.d(t,{Z:()=>k});var a=n(7294),r=n(6010),o=n(2802),i=n(9960),l=n(3919),p=n(5999);const s={cardContainer:"cardContainer_fWXF",cardTitle:"cardTitle_rnsV",cardDescription:"cardDescription_PWke"};function d(e){let{href:t,children:n}=e;return a.createElement(i.Z,{href:t,className:(0,r.Z)("card padding--lg",s.cardContainer)},n)}function u(e){let{href:t,icon:n,title:o,description:i}=e;return a.createElement(d,{href:t},a.createElement("h2",{className:(0,r.Z)("text--truncate",s.cardTitle),title:o},n," ",o),i&&a.createElement("p",{className:(0,r.Z)("text--truncate",s.cardDescription),title:i},i))}function c(e){let{item:t}=e;const n=(0,o.Wl)(t);return n?a.createElement(u,{href:n,icon:"\ud83d\uddc3\ufe0f",title:t.label,description:t.description??(0,p.I)({message:"{count} items",id:"theme.docs.DocCard.categoryDescription",description:"The default description for a category card in the generated index about how many items this category includes"},{count:t.items.length})}):null}function m(e){let{item:t}=e;const n=(0,l.Z)(t.href)?"\ud83d\udcc4\ufe0f":"\ud83d\udd17",r=(0,o.xz)(t.docId??void 0);return a.createElement(u,{href:t.href,icon:n,title:t.label,description:t.description??r?.description})}function g(e){let{item:t}=e;switch(t.type){case"link":return a.createElement(m,{item:t});case"category":return a.createElement(c,{item:t});default:throw new Error(`unknown item type ${JSON.stringify(t)}`)}}function h(e){let{className:t}=e;const n=(0,o.jA)();return a.createElement(k,{items:n.items,className:t})}function k(e){const{items:t,className:n}=e;if(!t)return a.createElement(h,e);const i=(0,o.MN)(t);return a.createElement("section",{className:(0,r.Z)("row",n)},i.map(((e,t)=>a.createElement("article",{key:t,className:"col col--6 margin-bottom--lg"},a.createElement(g,{item:e})))))}},94:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>p,toc:()=>d});var a=n(7462),r=(n(7294),n(3905)),o=n(2991);const i={title:"Routing Fundamentals",sidebar_label:"Routing",description:"Learn the fundamentals of routing for front-end applications."},l=void 0,p={unversionedId:"app/building-your-application/routing/index",id:"app/building-your-application/routing/index",title:"Routing Fundamentals",description:"Learn the fundamentals of routing for front-end applications.",source:"@site/docs/02-app/01-building-your-application/01-routing/index.mdx",sourceDirName:"02-app/01-building-your-application/01-routing",slug:"/app/building-your-application/routing/",permalink:"/nano-nextjs-study/docs/app/building-your-application/routing/",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/02-app/01-building-your-application/01-routing/index.mdx",tags:[],version:"current",frontMatter:{title:"Routing Fundamentals",sidebar_label:"Routing",description:"Learn the fundamentals of routing for front-end applications."},sidebar:"tutorialSidebar",previous:{title:"Building Your Application",permalink:"/nano-nextjs-study/docs/app/building-your-application/"},next:{title:"Defining Routes",permalink:"/nano-nextjs-study/docs/app/building-your-application/routing/defining-routes"}},s={},d=[{value:"Terminology",id:"terminology",level:2},{value:"The <code>app</code> Router",id:"the-app-router",level:2},{value:"Roles of Folders and Files",id:"roles-of-folders-and-files",level:2},{value:"Route Segments",id:"route-segments",level:2},{value:"Nested Routes",id:"nested-routes",level:2},{value:"File Conventions",id:"file-conventions",level:2},{value:"Component Hierarchy",id:"component-hierarchy",level:2},{value:"Colocation",id:"colocation",level:2},{value:"Advanced Routing Patterns",id:"advanced-routing-patterns",level:2},{value:"Next Steps",id:"next-steps",level:2}],u=(c="Image",function(e){return console.warn("Component "+c+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.kt)("div",e)});var c;const m={toc:d},g="wrapper";function h(e){let{components:t,...n}=e;return(0,r.kt)(g,(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"The skeleton of every application is routing. This page will introduce you to the ",(0,r.kt)("strong",{parentName:"p"},"fundamental concepts")," of routing for the web and how to handle routing in Next.js."),(0,r.kt)("h2",{id:"terminology"},"Terminology"),(0,r.kt)("p",null,"First, you will see these terms being used throughout the documentation. Here's a quick reference:"),(0,r.kt)(u,{alt:"Terminology for Component Tree",srcLight:"/docs/light/terminology-component-tree.png",srcDark:"/docs/dark/terminology-component-tree.png",width:"1600",height:"832",mdxType:"Image"}),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Tree:")," A convention for visualizing a hierarchical structure. For example, a component tree with parent and children components, a folder structure, etc."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Subtree:")," Part of a tree, starting at a new root (first) and ending at the leaves (last)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Root"),": The first node in a tree or subtree, such as a root layout."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Leaf:")," Nodes in a subtree that have no children, such as the last segment in a URL path.")),(0,r.kt)(u,{alt:"Terminology for URL Anatomy",srcLight:"/docs/light/terminology-url-anatomy.png",srcDark:"/docs/dark/terminology-url-anatomy.png",width:"1600",height:"371",mdxType:"Image"}),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"URL Segment:")," Part of the URL path delimited by slashes."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"URL Path:")," Part of the URL that comes after the domain (composed of segments).")),(0,r.kt)("h2",{id:"the-app-router"},"The ",(0,r.kt)("inlineCode",{parentName:"h2"},"app")," Router"),(0,r.kt)("p",null,"In version 13, Next.js introduced a new ",(0,r.kt)("strong",{parentName:"p"},"App Router")," built on ",(0,r.kt)("a",{parentName:"p",href:"/docs/app/building-your-application/rendering/server-components"},"React Server Components"),", which supports shared layouts, nested routing, loading states, error handling, and more."),(0,r.kt)("p",null,"The App Router works in a new directory named ",(0,r.kt)("inlineCode",{parentName:"p"},"app"),". The ",(0,r.kt)("inlineCode",{parentName:"p"},"app")," directory works alongside the ",(0,r.kt)("inlineCode",{parentName:"p"},"pages")," directory to allow for incremental adoption. This allows you to opt some routes of your application into the new behavior while keeping other routes in the ",(0,r.kt)("inlineCode",{parentName:"p"},"pages")," directory for previous behavior. If your application uses the ",(0,r.kt)("inlineCode",{parentName:"p"},"pages")," directory, please also see the ",(0,r.kt)("a",{parentName:"p",href:"/docs/pages/building-your-application/routing"},"Pages Router")," documentation."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Good to know"),": The App Router takes priority over the Pages Router. Routes across directories should not resolve to the same URL path and will cause a build-time error to prevent a conflict.")),(0,r.kt)(u,{alt:"Next.js App Directory",srcLight:"/docs/light/next-router-directories.png",srcDark:"/docs/dark/next-router-directories.png",width:"1600",height:"444",mdxType:"Image"}),(0,r.kt)("p",null,"By default, components inside ",(0,r.kt)("inlineCode",{parentName:"p"},"app")," are ",(0,r.kt)("a",{parentName:"p",href:"/docs/app/building-your-application/rendering/server-components"},"React Server Components"),". This is a performance optimization and allows you to easily adopt them, and you can also use ",(0,r.kt)("a",{parentName:"p",href:"/docs/app/building-your-application/rendering/client-components"},"Client Components"),"."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Recommendation:")," Check out the ",(0,r.kt)("a",{parentName:"p",href:"/docs/app/building-your-application/rendering/server-components"},"Server")," page if you're new to Server Components.")),(0,r.kt)("h2",{id:"roles-of-folders-and-files"},"Roles of Folders and Files"),(0,r.kt)("p",null,"Next.js uses a file-system based router where:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Folders")," are used to define routes. A route is a single path of nested folders, following the file-system hierarchy from the ",(0,r.kt)("strong",{parentName:"li"},"root folder")," down to a final ",(0,r.kt)("strong",{parentName:"li"},"leaf folder")," that includes a ",(0,r.kt)("inlineCode",{parentName:"li"},"page.js")," file. See ",(0,r.kt)("a",{parentName:"li",href:"/docs/app/building-your-application/routing/defining-routes"},"Defining Routes"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Files")," are used to create UI that is shown for a route segment. See ",(0,r.kt)("a",{parentName:"li",href:"#file-conventions"},"special files"),".")),(0,r.kt)("h2",{id:"route-segments"},"Route Segments"),(0,r.kt)("p",null,"Each folder in a route represents a ",(0,r.kt)("strong",{parentName:"p"},"route segment"),". Each route segment is mapped to a corresponding ",(0,r.kt)("strong",{parentName:"p"},"segment")," in a ",(0,r.kt)("strong",{parentName:"p"},"URL path"),"."),(0,r.kt)(u,{alt:"How Route Segments Map to URL Segments",srcLight:"/docs/light/route-segments-to-path-segments.png",srcDark:"/docs/dark/route-segments-to-path-segments.png",width:"1600",height:"594",mdxType:"Image"}),(0,r.kt)("h2",{id:"nested-routes"},"Nested Routes"),(0,r.kt)("p",null,"To create a nested route, you can nest folders inside each other. For example, you can add a new ",(0,r.kt)("inlineCode",{parentName:"p"},"/dashboard/settings")," route by nesting two new folders in the ",(0,r.kt)("inlineCode",{parentName:"p"},"app")," directory."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"/dashboard/settings")," route is composed of three segments:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"/")," (Root segment)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"dashboard")," (Segment)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"settings")," (Leaf segment)")),(0,r.kt)("h2",{id:"file-conventions"},"File Conventions"),(0,r.kt)("p",null,"Next.js provides a set of special files to create UI with specific behavior in nested routes:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/docs/app/building-your-application/routing/pages-and-layouts#layouts"},(0,r.kt)("inlineCode",{parentName:"a"},"layout"))),(0,r.kt)("td",{parentName:"tr",align:null},"Shared UI for a segment and its children")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/docs/app/building-your-application/routing/pages-and-layouts#pages"},(0,r.kt)("inlineCode",{parentName:"a"},"page"))),(0,r.kt)("td",{parentName:"tr",align:null},"Unique UI of a route and make routes publicly accessible")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/docs/app/building-your-application/routing/loading-ui-and-streaming"},(0,r.kt)("inlineCode",{parentName:"a"},"loading"))),(0,r.kt)("td",{parentName:"tr",align:null},"Loading UI for a segment and its children")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/docs/app/api-reference/file-conventions/not-found"},(0,r.kt)("inlineCode",{parentName:"a"},"not-found"))),(0,r.kt)("td",{parentName:"tr",align:null},"Not found UI for a segment and its children")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/docs/app/building-your-application/routing/error-handling"},(0,r.kt)("inlineCode",{parentName:"a"},"error"))),(0,r.kt)("td",{parentName:"tr",align:null},"Error UI for a segment and its children")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/docs/app/building-your-application/routing/error-handling"},(0,r.kt)("inlineCode",{parentName:"a"},"global-error"))),(0,r.kt)("td",{parentName:"tr",align:null},"Global Error UI")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/docs/app/building-your-application/routing/route-handlers"},(0,r.kt)("inlineCode",{parentName:"a"},"route"))),(0,r.kt)("td",{parentName:"tr",align:null},"Server-side API endpoint")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/docs/app/building-your-application/routing/pages-and-layouts#templates"},(0,r.kt)("inlineCode",{parentName:"a"},"template"))),(0,r.kt)("td",{parentName:"tr",align:null},"Specialized re-rendered Layout UI")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/docs/app/api-reference/file-conventions/default"},(0,r.kt)("inlineCode",{parentName:"a"},"default"))),(0,r.kt)("td",{parentName:"tr",align:null},"Fallback UI for ",(0,r.kt)("a",{parentName:"td",href:"/docs/app/building-your-application/routing/parallel-routes"},"Parallel Routes"))))),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Good to know"),": ",(0,r.kt)("inlineCode",{parentName:"p"},".js"),", ",(0,r.kt)("inlineCode",{parentName:"p"},".jsx"),", or ",(0,r.kt)("inlineCode",{parentName:"p"},".tsx")," file extensions can be used for special files.")),(0,r.kt)("h2",{id:"component-hierarchy"},"Component Hierarchy"),(0,r.kt)("p",null,"The React components defined in special files of a route segment are rendered in a specific hierarchy:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"layout.js")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"template.js")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"error.js")," (React error boundary)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"loading.js")," (React suspense boundary)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"not-found.js")," (React error boundary)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"page.js")," or nested ",(0,r.kt)("inlineCode",{parentName:"li"},"layout.js"))),(0,r.kt)(u,{alt:"Component Hierarchy for File Conventions",srcLight:"/docs/light/file-conventions-component-hierarchy.png",srcDark:"/docs/dark/file-conventions-component-hierarchy.png",width:"1600",height:"643",mdxType:"Image"}),(0,r.kt)("p",null,"In a nested route, the components of a segment will be nested ",(0,r.kt)("strong",{parentName:"p"},"inside")," the components of its parent segment."),(0,r.kt)(u,{alt:"Nested File Conventions Component Hierarchy",srcLight:"/docs/light/nested-file-conventions-component-hierarchy.png",srcDark:"/docs/dark/nested-file-conventions-component-hierarchy.png",width:"1600",height:"863",mdxType:"Image"}),(0,r.kt)("h2",{id:"colocation"},"Colocation"),(0,r.kt)("p",null,"In addition to special files, you have the option to colocate your own files (e.g. components, styles, tests, etc) inside folders in the ",(0,r.kt)("inlineCode",{parentName:"p"},"app")," directory."),(0,r.kt)("p",null,"This is because while folders define routes, only the contents returned by ",(0,r.kt)("inlineCode",{parentName:"p"},"page.js")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"route.js")," are publicly addressable."),(0,r.kt)(u,{alt:"An example folder structure with colocated files",srcLight:"/docs/light/project-organization-colocation.png",srcDark:"/docs/dark/project-organization-colocation.png",width:"1600",height:"1011",mdxType:"Image"}),(0,r.kt)("p",null,"Learn more about ",(0,r.kt)("a",{parentName:"p",href:"/docs/app/building-your-application/routing/colocation"},"Project Organization and Colocation"),"."),(0,r.kt)("h2",{id:"advanced-routing-patterns"},"Advanced Routing Patterns"),(0,r.kt)("p",null,"The App Router also provides a set of conventions to help you implement more advanced routing patterns. These include:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/app/building-your-application/routing/parallel-routes"},"Parallel Routes"),": Allow you to simultaneously show two or more pages in the same view that can be navigated independently. You can use them for split views that have their own sub-navigation. E.g. Dashboards."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/app/building-your-application/routing/intercepting-routes"},"Intercepting Routes"),": Allow you to intercept a route and show it in the context of another route. You can use these when keeping the context for the current page is important. E.g. Seeing all tasks while editing one task or expanding a photo in a feed.")),(0,r.kt)("p",null,"These patterns allow you to build richer and more complex UIs, democratizing features that were historically complex for small teams and individual developers to implement."),(0,r.kt)("h2",{id:"next-steps"},"Next Steps"),(0,r.kt)("p",null,"Now that you understand the fundamentals of routing in Next.js, follow the links below to create your first routes:"),(0,r.kt)(o.Z,{mdxType:"DocCardList"}))}h.isMDXComponent=!0}}]);