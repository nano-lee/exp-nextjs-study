"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[8586],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>f});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),l=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=l(e.components);return r.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),u=l(n),m=o,f=u["".concat(s,".").concat(m)]||u[m]||d[m]||a;return n?r.createElement(f,i(i({ref:t},c),{},{components:n})):r.createElement(f,i({ref:t},c))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=m;var p={};for(var s in t)hasOwnProperty.call(t,s)&&(p[s]=t[s]);p.originalType=e,p[u]="string"==typeof e?e:o,i[1]=p;for(var l=2;l<a;l++)i[l]=n[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},9614:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>p,toc:()=>l});var r=n(7462),o=(n(7294),n(3905));const a={title:"turbo (Experimental)",sidebar_label:"turbo",description:"Configure Next.js with Turbopack-specific options"},i=void 0,p={unversionedId:"app/api-reference/next-config-js/turbo",id:"app/api-reference/next-config-js/turbo",title:"turbo (Experimental)",description:"Configure Next.js with Turbopack-specific options",source:"@site/docs/02-app/02-api-reference/05-next-config-js/turbo.mdx",sourceDirName:"02-app/02-api-reference/05-next-config-js",slug:"/app/api-reference/next-config-js/turbo",permalink:"/docs/app/api-reference/next-config-js/turbo",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/02-app/02-api-reference/05-next-config-js/turbo.mdx",tags:[],version:"current",frontMatter:{title:"turbo (Experimental)",sidebar_label:"turbo",description:"Configure Next.js with Turbopack-specific options"},sidebar:"tutorialSidebar",previous:{title:"transpilePackages",permalink:"/docs/app/api-reference/next-config-js/transpilePackages"},next:{title:"typedRoutes",permalink:"/docs/app/api-reference/next-config-js/typedRoutes"}},s={},l=[{value:"webpack loaders",id:"webpack-loaders",level:2},{value:"Resolve Alias",id:"resolve-alias",level:2}],c={toc:l},u="wrapper";function d(e){let{components:t,...n}=e;return(0,o.kt)(u,(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"{/",(0,o.kt)("em",{parentName:"p"}," The content of this doc is shared between the app and pages router. You can use the  component to add content that is specific to the Pages Router. Any shared content should not be wrapped in a component. "),"/}"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("strong",{parentName:"p"},"Warning"),": These features are experimental and will only work with ",(0,o.kt)("inlineCode",{parentName:"p"},"next --turbo"),".")),(0,o.kt)("h2",{id:"webpack-loaders"},"webpack loaders"),(0,o.kt)("p",null,"Currently, Turbopack supports a subset of webpack's loader API, allowing you to use some webpack loaders to transform code in Turbopack."),(0,o.kt)("p",null,"To configure loaders, add the names of the loaders you've installed and any options in ",(0,o.kt)("inlineCode",{parentName:"p"},"next.config.js"),", mapping file extensions to a list of loaders:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'filename="next.config.js"',filename:'"next.config.js"'},'module.exports = {\n    experimental: {\n        turbo: {\n            rules: {\n                // Option format\n                "*.md": [\n                    {\n                        loader: "@mdx-js/loader",\n                        options: {\n                            format: "md",\n                        },\n                    },\n                ],\n                // Option-less format\n                "*.mdx": ["@mdx-js/loader"],\n            },\n        },\n    },\n};\n')),(0,o.kt)("p",null,"Then, given the above configuration, you can use transformed code from your app:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'import MyDoc from "./my-doc.mdx";\n\nexport default function Home() {\n    return <MyDoc />;\n}\n')),(0,o.kt)("h2",{id:"resolve-alias"},"Resolve Alias"),(0,o.kt)("p",null,"Through ",(0,o.kt)("inlineCode",{parentName:"p"},"next.config.js"),", Turbopack can be configured to modify module resolution through aliases, similar to webpack's ",(0,o.kt)("a",{parentName:"p",href:"https://webpack.js.org/configuration/resolve/#resolvealias"},(0,o.kt)("inlineCode",{parentName:"a"},"resolve.alias"))," configuration."),(0,o.kt)("p",null,"To configure resolve aliases, map imported patterns to their new destination in ",(0,o.kt)("inlineCode",{parentName:"p"},"next.config.js"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'filename="next.config.js"',filename:'"next.config.js"'},'module.exports = {\n    experimental: {\n        turbo: {\n            resolveAlias: {\n                underscore: "lodash",\n                mocha: { browser: "mocha/browser-entry.js" },\n            },\n        },\n    },\n};\n')),(0,o.kt)("p",null,"This aliases imports of the ",(0,o.kt)("inlineCode",{parentName:"p"},"underscore")," package to the ",(0,o.kt)("inlineCode",{parentName:"p"},"lodash")," package. In other words, ",(0,o.kt)("inlineCode",{parentName:"p"},"import underscore from 'underscore'")," will load the ",(0,o.kt)("inlineCode",{parentName:"p"},"lodash")," module instead of ",(0,o.kt)("inlineCode",{parentName:"p"},"underscore"),"."),(0,o.kt)("p",null,"Turbopack also supports conditional aliasing through this field, similar to Node.js's ",(0,o.kt)("a",{parentName:"p",href:"https://nodejs.org/docs/latest-v18.x/api/packages.html#conditional-exports"},"conditional exports"),". At the moment only the ",(0,o.kt)("inlineCode",{parentName:"p"},"browser")," condition is supported. In the case above, imports of the ",(0,o.kt)("inlineCode",{parentName:"p"},"mocha")," module will be aliased to ",(0,o.kt)("inlineCode",{parentName:"p"},"mocha/browser-entry.js")," when Turbopack targets browser environments."),(0,o.kt)("p",null,"For more information and guidance for how to migrate your app to Turbopack from webpack, see ",(0,o.kt)("a",{parentName:"p",href:"https://turbo.build/pack/docs/migrating-from-webpack"},"Turbopack's documentation on webpack compatibility"),"."))}d.isMDXComponent=!0}}]);